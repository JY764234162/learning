var Go=Object.defineProperty;var Ho=(e,t,n)=>t in e?Go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Yt=(e,t,n)=>Ho(e,typeof t!="symbol"?t+"":t,n);import{r as ce,l as q,bq as qo,j as E,T as Zo,B as _e}from"../../index-DgZa82hz.js";import{a as En,u as Wn}from"./react-D3OjOs9s.js";import{A as Xo}from"./index-B-9SwJtV.js";import{S as Pe}from"./index-CwMPLK97.js";import{C as vt}from"./index-BGPQKQBB.js";import{D as Kn}from"./index-BY5P_IDy.js";import"./ExclamationCircleFilled-BncIX7fd.js";import"./InfoCircleFilled-FVYNa2Uj.js";var Er={exports:{}},Cr={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=ce;function Yo(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jo=typeof Object.is=="function"?Object.is:Yo,Qo=nt.useSyncExternalStore,ei=nt.useRef,ti=nt.useEffect,ni=nt.useMemo,ri=nt.useDebugValue;Cr.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=ei(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=ni(function(){function c(b){if(!d){if(d=!0,h=b,b=r(b),o!==void 0&&a.hasValue){var y=a.value;if(o(y,b))return p=y}return p=b}if(y=p,Jo(h,b))return y;var C=r(b);return o!==void 0&&o(y,C)?(h=b,y):(h=b,p=C)}var d=!1,h,p,R=n===void 0?null:n;return[function(){return c(t())},R===null?void 0:function(){return c(R())}]},[t,n,r,o]);var l=Qo(e,i[0],i[1]);return ti(function(){a.hasValue=!0,a.value=l},[l]),ri(l),l};Er.exports=Cr;var oi=Er.exports;function ii(e){e()}function ai(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ii(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Gn={notify(){},get:()=>[]};function si(e,t){let n,r=Gn,o=0,i=!1;function a(C){h();const k=r.subscribe(C);let O=!1;return()=>{O||(O=!0,k(),p())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return i}function h(){o++,n||(n=e.subscribe(c),r=ai())}function p(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=Gn)}function R(){i||(i=!0,h())}function b(){i&&(i=!1,p())}const y={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:R,tryUnsubscribe:b,getListeners:()=>r};return y}var ci=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",li=ci(),ui=()=>typeof navigator<"u"&&navigator.product==="ReactNative",di=ui(),fi=()=>li||di?ce.useLayoutEffect:ce.useEffect,hi=fi(),Jt=Symbol.for("react-redux-context"),Qt=typeof globalThis<"u"?globalThis:{};function pi(){if(!ce.createContext)return{};const e=Qt[Jt]??(Qt[Jt]=new Map);let t=e.get(ce.createContext);return t||(t=ce.createContext(null),e.set(ce.createContext,t)),t}var Ee=pi();function vi(e){const{children:t,context:n,serverState:r,store:o}=e,i=ce.useMemo(()=>{const c=si(o);return{store:o,subscription:c,getServerState:r?()=>r:void 0}},[o,r]),a=ce.useMemo(()=>o.getState(),[o]);hi(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=n||Ee;return ce.createElement(l.Provider,{value:i},t)}var yi=vi;function Cn(e=Ee){return function(){return ce.useContext(e)}}var Ar=Cn();function Tr(e=Ee){const t=e===Ee?Ar:Cn(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var _i=Tr();function mi(e=Ee){const t=e===Ee?_i:Tr(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var gi=mi(),bi=(e,t)=>e===t;function Si(e=Ee){const t=e===Ee?Ar:Cn(e),n=(r,o={})=>{const{equalityFn:i=bi}=typeof o=="function"?{equalityFn:o}:o,a=t(),{store:l,subscription:c,getServerState:d}=a;ce.useRef(!0);const h=ce.useCallback({[r.name](R){return r(R)}}[r.name],[r]),p=oi.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,d||l.getState,h,i);return ce.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var wi=Si();const Ri=En(0),yt=En({data:null,loading:!1,error:null}),Ei=En(e=>e(yt),async(e,t)=>{t(yt,{data:null,loading:!0,error:null});try{await new Promise(r=>setTimeout(r,1e3));const n=`异步数据 ${Math.floor(Math.random()*1e3)}`;t(yt,{data:n,loading:!1,error:null})}catch{t(yt,{data:null,loading:!1,error:"获取数据失败"})}});function ne(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ci=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hn=Ci,en=()=>Math.random().toString(36).substring(7).split("").join("."),Ai={INIT:`@@redux/INIT${en()}`,REPLACE:`@@redux/REPLACE${en()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${en()}`},At=Ai;function An(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Nr(e,t,n){if(typeof e!="function")throw new Error(ne(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ne(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ne(1));return n(Nr)(e,t)}let r=e,o=t,i=new Map,a=i,l=0,c=!1;function d(){a===i&&(a=new Map,i.forEach((k,O)=>{a.set(O,k)}))}function h(){if(c)throw new Error(ne(3));return o}function p(k){if(typeof k!="function")throw new Error(ne(4));if(c)throw new Error(ne(5));let O=!0;d();const B=l++;return a.set(B,k),function(){if(O){if(c)throw new Error(ne(6));O=!1,d(),a.delete(B),i=null}}}function R(k){if(!An(k))throw new Error(ne(7));if(typeof k.type>"u")throw new Error(ne(8));if(typeof k.type!="string")throw new Error(ne(17));if(c)throw new Error(ne(9));try{c=!0,o=r(o,k)}finally{c=!1}return(i=a).forEach(B=>{B()}),k}function b(k){if(typeof k!="function")throw new Error(ne(10));r=k,R({type:At.REPLACE})}function y(){const k=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ne(11));function B(){const I=O;I.next&&I.next(h())}return B(),{unsubscribe:k(B)}},[Hn](){return this}}}return R({type:At.INIT}),{dispatch:R,subscribe:p,getState:h,replaceReducer:b,[Hn]:y}}function Ti(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:At.INIT})>"u")throw new Error(ne(12));if(typeof n(void 0,{type:At.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ne(13))})}function Ni(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let o;try{Ti(n)}catch(i){o=i}return function(a={},l){if(o)throw o;let c=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],R=n[p],b=a[p],y=R(b,l);if(typeof y>"u")throw l&&l.type,new Error(ne(14));d[p]=y,c=c||y!==b}return c=c||r.length!==Object.keys(a).length,c?d:a}}function Tt(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Li(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(ne(15))};const a={getState:o.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(a));return i=Tt(...l)(o.dispatch),{...o,dispatch:i}}}function Mi(e){return An(e)&&"type"in e&&typeof e.type=="string"}var Lr=Symbol.for("immer-nothing"),qn=Symbol.for("immer-draftable"),le=Symbol.for("immer-state");function ve(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var je=Object.getPrototypeOf;function Te(e){return!!e&&!!e[le]}function we(e){var t;return e?Mr(e)||Array.isArray(e)||!!e[qn]||!!((t=e.constructor)!=null&&t[qn])||Dt(e)||$t(e):!1}var Vi=Object.prototype.constructor.toString();function Mr(e){if(!e||typeof e!="object")return!1;const t=je(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Vi}function Nt(e,t){xt(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function xt(e){const t=e[le];return t?t.type_:Array.isArray(e)?1:Dt(e)?2:$t(e)?3:0}function dn(e,t){return xt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Vr(e,t,n){const r=xt(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ki(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dt(e){return e instanceof Map}function $t(e){return e instanceof Set}function Ae(e){return e.copy_||e.base_}function fn(e,t){if(Dt(e))return new Map(e);if($t(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Mr(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[le];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const a=o[i],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(je(e),r)}else{const r=je(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Tn(e,t=!1){return It(e)||Te(e)||!we(e)||(xt(e)>1&&(e.set=e.add=e.clear=e.delete=xi),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Tn(r,!0))),e}function xi(){ve(2)}function It(e){return Object.isFrozen(e)}var Di={};function Ne(e){const t=Di[e];return t||ve(0,e),t}var et;function kr(){return et}function $i(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Zn(e,t){t&&(Ne("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hn(e){pn(e),e.drafts_.forEach(Ii),e.drafts_=null}function pn(e){e===et&&(et=e.parent_)}function Xn(e){return et=$i(et,e)}function Ii(e){const t=e[le];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Yn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[le].modified_&&(hn(t),ve(4)),we(e)&&(e=Lt(t,e),t.parent_||Mt(t,e)),t.patches_&&Ne("Patches").generateReplacementPatches_(n[le].base_,e,t.patches_,t.inversePatches_)):e=Lt(t,n,[]),hn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lr?e:void 0}function Lt(e,t,n){if(It(t))return t;const r=t[le];if(!r)return Nt(t,(o,i)=>Jn(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Mt(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,a=!1;r.type_===3&&(i=new Set(o),o.clear(),a=!0),Nt(i,(l,c)=>Jn(e,r,o,l,c,n,a)),Mt(e,o,!1),n&&e.patches_&&Ne("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Jn(e,t,n,r,o,i,a){if(Te(o)){const l=i&&t&&t.type_!==3&&!dn(t.assigned_,r)?i.concat(r):void 0,c=Lt(e,o,l);if(Vr(n,r,c),Te(c))e.canAutoFreeze_=!1;else return}else a&&n.add(o);if(we(o)&&!It(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Lt(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Mt(e,o)}}function Mt(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tn(t,n)}function Pi(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:kr(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Nn;n&&(o=[r],i=tt);const{revoke:a,proxy:l}=Proxy.revocable(o,i);return r.draft_=l,r.revoke_=a,l}var Nn={get(e,t){if(t===le)return e;const n=Ae(e);if(!dn(n,t))return Oi(e,n,t);const r=n[t];return e.finalized_||!we(r)?r:r===tn(e.base_,t)?(nn(e),e.copy_[t]=yn(r,e)):r},has(e,t){return t in Ae(e)},ownKeys(e){return Reflect.ownKeys(Ae(e))},set(e,t,n){const r=xr(Ae(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=tn(Ae(e),t),i=o==null?void 0:o[le];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ki(n,o)&&(n!==void 0||dn(e.base_,t)))return!0;nn(e),vn(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tn(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nn(e),vn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ae(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ve(11)},getPrototypeOf(e){return je(e.base_)},setPrototypeOf(){ve(12)}},tt={};Nt(Nn,(e,t)=>{tt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tt.deleteProperty=function(e,t){return tt.set.call(this,e,t,void 0)};tt.set=function(e,t,n){return Nn.set.call(this,e[0],t,n,e[0])};function tn(e,t){const n=e[le];return(n?Ae(n):e)[t]}function Oi(e,t,n){var o;const r=xr(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function xr(e,t){if(!(t in e))return;let n=je(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=je(n)}}function vn(e){e.modified_||(e.modified_=!0,e.parent_&&vn(e.parent_))}function nn(e){e.copy_||(e.copy_=fn(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ji=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const a=this;return function(c=i,...d){return a.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&ve(6),r!==void 0&&typeof r!="function"&&ve(7);let o;if(we(t)){const i=Xn(this),a=yn(t,void 0);let l=!0;try{o=n(a),l=!1}finally{l?hn(i):pn(i)}return Zn(i,r),Yn(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Lr&&(o=void 0),this.autoFreeze_&&Tn(o,!0),r){const i=[],a=[];Ne("Patches").generateReplacementPatches_(t,o,i,a),r(i,a)}return o}else ve(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let r,o;return[this.produce(t,n,(a,l)=>{r=a,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){we(e)||ve(8),Te(e)&&(e=zi(e));const t=Xn(this),n=yn(e,void 0);return n[le].isManual_=!0,pn(t),n}finishDraft(e,t){const n=e&&e[le];(!n||!n.isManual_)&&ve(9);const{scope_:r}=n;return Zn(r,t),Yn(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Ne("Patches").applyPatches_;return Te(e)?r(e,t):this.produce(e,o=>r(o,t))}};function yn(e,t){const n=Dt(e)?Ne("MapSet").proxyMap_(e,t):$t(e)?Ne("MapSet").proxySet_(e,t):Pi(e,t);return(t?t.scope_:kr()).drafts_.push(n),n}function zi(e){return Te(e)||ve(10,e),Dr(e)}function Dr(e){if(!we(e)||It(e))return e;const t=e[le];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fn(e,t.scope_.immer_.useStrictShallowCopy_)}else n=fn(e,!0);return Nt(n,(r,o)=>{Vr(n,r,Dr(o))}),t&&(t.finalized_=!1),n}var ue=new ji,$r=ue.produce;ue.produceWithPatches.bind(ue);ue.setAutoFreeze.bind(ue);ue.setUseStrictShallowCopy.bind(ue);ue.applyPatches.bind(ue);ue.createDraft.bind(ue);ue.finishDraft.bind(ue);function Ir(e){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,e):o(i)}var Ui=Ir(),Fi=Ir,Bi=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tt:Tt.apply(null,arguments)},Wi=e=>e&&typeof e.match=="function";function Je(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(Se(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Mi(r)&&r.type===e,n}var Pr=class Xe extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Xe.prototype)}static get[Symbol.species](){return Xe}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Xe(...t[0].concat(this)):new Xe(...t.concat(this))}};function Qn(e){return we(e)?$r(e,()=>{}):e}function _t(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Ki(e){return typeof e=="boolean"}var Gi=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let a=new Pr;return n&&(Ki(n)?a.push(Ui):a.push(Fi(n.extraArgument))),a},Hi="RTK_autoBatch",er=e=>t=>{setTimeout(t,e)},qi=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:er(10):e.type==="callback"?e.queueNotification:er(e.timeout),d=()=>{a=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>o&&h(),R=r.subscribe(p);return l.add(h),()=>{R(),l.delete(h)}},dispatch(h){var p;try{return o=!((p=h==null?void 0:h.meta)!=null&&p[Hi]),i=!o,i&&(a||(a=!0,c(d))),r.dispatch(h)}finally{o=!0}}})},Zi=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new Pr(e);return r&&o.push(qi(typeof r=="object"?r:void 0)),o};function Xi(e){const t=Gi(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(An(n))l=Ni(n);else throw new Error(Se(1));let c;typeof r=="function"?c=r(t):c=t();let d=Tt;o&&(d=Bi({trace:!1,...typeof o=="object"&&o}));const h=Li(...c),p=Zi(h);let R=typeof a=="function"?a(p):p();const b=d(...R);return Nr(l,i,b)}function Or(e){const t={},n=[];let r;const o={addCase(i,a){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Se(28));if(l in t)throw new Error(Se(29));return t[l]=a,o},addMatcher(i,a){return n.push({matcher:i,reducer:a}),o},addDefaultCase(i){return r=i,o}};return e(o),[t,n,r]}function Yi(e){return typeof e=="function"}function Ji(e,t){let[n,r,o]=Or(t),i;if(Yi(e))i=()=>Qn(e());else{const l=Qn(e);i=()=>l}function a(l=i(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[o]),d.reduce((h,p)=>{if(p)if(Te(h)){const b=p(h,c);return b===void 0?h:b}else{if(we(h))return $r(h,R=>p(R,c));{const R=p(h,c);if(R===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return R}}return h},l)}return a.getInitialState=i,a}var Qi=(e,t)=>Wi(e)?e.match(t):e(t);function ea(...e){return t=>e.some(n=>Qi(n,t))}var ta="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",na=(e=21)=>{let t="",n=e;for(;n--;)t+=ta[Math.random()*64|0];return t},ra=["name","message","stack","code"],rn=class{constructor(e,t){Yt(this,"_type");this.payload=e,this.meta=t}},tr=class{constructor(e,t){Yt(this,"_type");this.payload=e,this.meta=t}},oa=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of ra)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},nr="External signal was aborted",ia=(()=>{function e(t,n,r){const o=Je(t+"/fulfilled",(c,d,h,p)=>({payload:c,meta:{...p||{},arg:h,requestId:d,requestStatus:"fulfilled"}})),i=Je(t+"/pending",(c,d,h)=>({payload:void 0,meta:{...h||{},arg:d,requestId:c,requestStatus:"pending"}})),a=Je(t+"/rejected",(c,d,h,p,R)=>({payload:p,error:(r&&r.serializeError||oa)(c||"Rejected"),meta:{...R||{},arg:h,requestId:d,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:d}={}){return(h,p,R)=>{const b=r!=null&&r.idGenerator?r.idGenerator(c):na(),y=new AbortController;let C,k;function O(W){k=W,y.abort()}d&&(d.aborted?O(nr):d.addEventListener("abort",()=>O(nr),{once:!0}));const B=async function(){var j,z;let W;try{let F=(j=r==null?void 0:r.condition)==null?void 0:j.call(r,c,{getState:p,extra:R});if(sa(F)&&(F=await F),F===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Z=new Promise((U,ee)=>{C=()=>{ee({name:"AbortError",message:k||"Aborted"})},y.signal.addEventListener("abort",C)});h(i(b,c,(z=r==null?void 0:r.getPendingMeta)==null?void 0:z.call(r,{requestId:b,arg:c},{getState:p,extra:R}))),W=await Promise.race([Z,Promise.resolve(n(c,{dispatch:h,getState:p,extra:R,requestId:b,signal:y.signal,abort:O,rejectWithValue:(U,ee)=>new rn(U,ee),fulfillWithValue:(U,ee)=>new tr(U,ee)})).then(U=>{if(U instanceof rn)throw U;return U instanceof tr?o(U.payload,b,c,U.meta):o(U,b,c)})])}catch(F){W=F instanceof rn?a(null,b,c,F.payload,F.meta):a(F,b,c)}finally{C&&y.signal.removeEventListener("abort",C)}return r&&!r.dispatchConditionRejection&&a.match(W)&&W.meta.condition||h(W),W}();return Object.assign(B,{abort:O,requestId:b,arg:c,unwrap(){return B.then(aa)}})}}return Object.assign(l,{pending:i,rejected:a,fulfilled:o,settled:ea(a,o),typePrefix:t})}return e.withTypes=()=>e,e})();function aa(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function sa(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var ca=Symbol.for("rtk-slice-createasyncthunk");function la(e,t){return`${e}/${t}`}function ua({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ca];return function(o){const{name:i,reducerPath:a=i}=o;if(!i)throw new Error(Se(11));const l=(typeof o.reducers=="function"?o.reducers(ha()):o.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,j){const z=typeof I=="string"?I:I.type;if(!z)throw new Error(Se(12));if(z in d.sliceCaseReducersByType)throw new Error(Se(13));return d.sliceCaseReducersByType[z]=j,h},addMatcher(I,j){return d.sliceMatchers.push({matcher:I,reducer:j}),h},exposeAction(I,j){return d.actionCreators[I]=j,h},exposeCaseReducer(I,j){return d.sliceCaseReducersByName[I]=j,h}};c.forEach(I=>{const j=l[I],z={reducerName:I,type:la(i,I),createNotation:typeof o.reducers=="function"};va(j)?_a(z,j,h,t):pa(z,j,h)});function p(){const[I={},j=[],z=void 0]=typeof o.extraReducers=="function"?Or(o.extraReducers):[o.extraReducers],F={...I,...d.sliceCaseReducersByType};return Ji(o.initialState,Z=>{for(let U in F)Z.addCase(U,F[U]);for(let U of d.sliceMatchers)Z.addMatcher(U.matcher,U.reducer);for(let U of j)Z.addMatcher(U.matcher,U.reducer);z&&Z.addDefaultCase(z)})}const R=I=>I,b=new Map,y=new WeakMap;let C;function k(I,j){return C||(C=p()),C(I,j)}function O(){return C||(C=p()),C.getInitialState()}function B(I,j=!1){function z(Z){let U=Z[I];return typeof U>"u"&&j&&(U=_t(y,z,O)),U}function F(Z=R){const U=_t(b,j,()=>new WeakMap);return _t(U,Z,()=>{const ee={};for(const[De,Be]of Object.entries(o.selectors??{}))ee[De]=da(Be,Z,()=>_t(y,Z,O),j);return ee})}return{reducerPath:I,getSelectors:F,get selectors(){return F(z)},selectSlice:z}}const W={name:i,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:O,...B(a),injectInto(I,{reducerPath:j,...z}={}){const F=j??a;return I.inject({reducerPath:F,reducer:k},z),{...W,...B(F,!0)}}};return W}}function da(e,t,n,r){function o(i,...a){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return o.unwrapped=e,o}var fa=ua();function ha(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function pa({type:e,reducerName:t,createNotation:n},r,o){let i,a;if("reducer"in r){if(n&&!ya(r))throw new Error(Se(17));i=r.reducer,a=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Je(e,a):Je(e))}function va(e){return e._reducerDefinitionType==="asyncThunk"}function ya(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _a({type:e,reducerName:t},n,r,o){if(!o)throw new Error(Se(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:c,settled:d,options:h}=n,p=o(e,i,h);r.exposeAction(t,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:a||mt,pending:l||mt,rejected:c||mt,settled:d||mt})}function mt(){}function Se(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const ma={value:0,asyncData:null,loading:!1,error:null},Et=ia("counter/fetchRandomData",async(e,{rejectWithValue:t})=>{try{return await new Promise(n=>setTimeout(n,1500)),Math.floor(Math.random()*100)}catch{return t("获取数据失败")}}),jr=fa({name:"counter",initialState:ma,reducers:{incremented:e=>{e.value+=1},decremented:e=>{e.value-=1},reset:e=>{e.value=0}},extraReducers:e=>{e.addCase(Et.pending,t=>{t.loading=!0,t.error=null}).addCase(Et.fulfilled,(t,n)=>{t.loading=!1,t.asyncData=n.payload}).addCase(Et.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"获取数据失败"})}}),{incremented:ga,decremented:ba,reset:Sa}=jr.actions,wa=Xi({reducer:jr.reducer}),rr=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const R=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,R))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(r,o,l);return l},Ra=e=>e?rr(e):rr,Ea=e=>e;function Ca(e,t=Ea){const n=q.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return q.useDebugValue(n),n}const or=e=>{const t=Ra(e),n=r=>Ca(t,r);return Object.assign(n,t),n},Aa=e=>e?or(e):or,Ta=Aa(e=>({count:0,loading:!1,error:null,increment:async()=>{try{e({loading:!0,error:null}),await new Promise(t=>setTimeout(t,500)),e({count:Math.random()*100,loading:!1})}catch(t){e({loading:!1,error:t instanceof Error?t.message:"未知错误"})}},reset:()=>e({count:0,error:null})}));var zr={};function Na(e){const t=new Error(e);if(t.stack===void 0)try{throw t}catch{}return t}var La=Na,$=La;function Ma(e){return!!e&&typeof e.then=="function"}var Q=Ma;function Va(e,t){if(e!=null)return e;throw $(t??"Got unexpected null or undefined")}var Y=Va;function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pt{getValue(){throw $("BaseLoadable")}toPromise(){throw $("BaseLoadable")}valueMaybe(){throw $("BaseLoadable")}valueOrThrow(){throw $(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw $("BaseLoadable")}promiseOrThrow(){throw $(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw $("BaseLoadable")}errorOrThrow(){throw $(`Loadable expected error, but in "${this.state}" state`)}is(t){return t.state===this.state&&t.contents===this.contents}map(t){throw $("BaseLoadable")}}class ka extends Pt{constructor(t){super(),V(this,"state","hasValue"),V(this,"contents",void 0),this.contents=t}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(t){try{const n=t(this.contents);return Q(n)?Le(n):ze(n)?n:rt(n)}catch(n){return Q(n)?Le(n.next(()=>this.map(t))):Ot(n)}}}class xa extends Pt{constructor(t){super(),V(this,"state","hasError"),V(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(t){return this}}class Ur extends Pt{constructor(t){super(),V(this,"state","loading"),V(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(t){return Le(this.contents.then(n=>{const r=t(n);if(ze(r)){const o=r;switch(o.state){case"hasValue":return o.contents;case"hasError":throw o.contents;case"loading":return o.contents}}return r}).catch(n=>{if(Q(n))return n.then(()=>this.map(t).contents);throw n}))}}function rt(e){return Object.freeze(new ka(e))}function Ot(e){return Object.freeze(new xa(e))}function Le(e){return Object.freeze(new Ur(e))}function Fr(){return Object.freeze(new Ur(new Promise(()=>{})))}function Da(e){return e.every(t=>t.state==="hasValue")?rt(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?Ot(Y(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Le(Promise.all(e.map(t=>t.contents)))}function Br(e){const n=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(o=>e[o])).map(o=>ze(o)?o:Q(o)?Le(o):rt(o)),r=Da(n);return Array.isArray(e)?r:r.map(o=>Object.getOwnPropertyNames(e).reduce((i,a,l)=>({...i,[a]:o[l]}),{}))}function ze(e){return e instanceof Pt}const $a={of:e=>Q(e)?Le(e):ze(e)?e:rt(e),error:e=>Ot(e),loading:()=>Fr(),all:Br,isLoadable:ze};var Ve={loadableWithValue:rt,loadableWithError:Ot,loadableWithPromise:Le,loadableLoading:Fr,loadableAll:Br,isLoadable:ze,RecoilLoadable:$a},Ia=Ve.loadableWithValue,Pa=Ve.loadableWithError,Oa=Ve.loadableWithPromise,ja=Ve.loadableLoading,za=Ve.loadableAll,Ua=Ve.isLoadable,Fa=Ve.RecoilLoadable,ot=Object.freeze({__proto__:null,loadableWithValue:Ia,loadableWithError:Pa,loadableWithPromise:Oa,loadableLoading:ja,loadableAll:za,isLoadable:Ua,RecoilLoadable:Fa});const _n={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function Ba(e,t){var n,r;const o=(n=zr[e])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(o==null||o==="")return;if(!["true","false"].includes(o))throw $(`process.env.${e} value must be 'true', 'false', or empty: ${o}`);t(o==="true")}function Wa(e,t){var n;const r=(n=zr[e])===null||n===void 0?void 0:n.trim();r==null||r===""||t(r.split(/\s*,\s*|\s+/))}function Ka(){var e;typeof process>"u"||((e=process)===null||e===void 0?void 0:e.env)!=null&&(Ba("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",t=>{_n.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=t}),Wa("RECOIL_GKS_ENABLED",t=>{t.forEach(n=>{_n.RECOIL_GKS_ENABLED.add(n)})}))}Ka();var it=_n;function jt(e){return it.RECOIL_GKS_ENABLED.has(e)}jt.setPass=e=>{it.RECOIL_GKS_ENABLED.add(e)};jt.setFail=e=>{it.RECOIL_GKS_ENABLED.delete(e)};jt.clear=()=>{it.RECOIL_GKS_ENABLED.clear()};var J=jt;function Ga(e,t,{error:n}={}){return null}var Ha=Ga,ye=Ha,on,an,sn;const qa=(on=q.createMutableSource)!==null&&on!==void 0?on:q.unstable_createMutableSource,Za=(an=q.useMutableSource)!==null&&an!==void 0?an:q.unstable_useMutableSource,Xa=(sn=q.useSyncExternalStore)!==null&&sn!==void 0?sn:q.unstable_useSyncExternalStore;function Ya(){return J("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:J("recoil_sync_external_store")&&Xa!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:J("recoil_mutable_source")&&Za!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?J("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:J("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var Ja={createMutableSource:qa,reactMode:Ya};class Ln{constructor(t){V(this,"key",void 0),this.key=t}toJSON(){return{key:this.key}}}class Wr extends Ln{}class Kr extends Ln{}function Qa(e){return e instanceof Wr||e instanceof Kr}var zt={AbstractRecoilValue:Ln,RecoilState:Wr,RecoilValueReadOnly:Kr,isRecoilValue:Qa},es=zt.AbstractRecoilValue,ts=zt.RecoilState,ns=zt.RecoilValueReadOnly,rs=zt.isRecoilValue,Me=Object.freeze({__proto__:null,AbstractRecoilValue:es,RecoilState:ts,RecoilValueReadOnly:ns,isRecoilValue:rs});function os(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()}var Ut=os;class Gr{}const is=new Gr,Ue=new Map,Mn=new Map;function as(e){return Ut(e,t=>Y(Mn.get(t)))}function ss(e){if(Ue.has(e)){const t=`Duplicate atom key "${e}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(t)}}function cs(e){it.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&ss(e.key),Ue.set(e.key,e);const t=e.set==null?new Me.RecoilValueReadOnly(e.key):new Me.RecoilState(e.key);return Mn.set(e.key,t),t}class ls extends Error{}function us(e){const t=Ue.get(e);if(t==null)throw new ls(`Missing definition for RecoilValue: "${e}""`);return t}function ds(e){return Ue.get(e)}const Vt=new Map;function fs(e){var t;if(!J("recoil_memory_managament_2020"))return;const n=Ue.get(e);if(n!=null&&(t=n.shouldDeleteConfigOnRelease)!==null&&t!==void 0&&t.call(n)){var r;Ue.delete(e),(r=Hr(e))===null||r===void 0||r(),Vt.delete(e)}}function hs(e,t){J("recoil_memory_managament_2020")&&(t===void 0?Vt.delete(e):Vt.set(e,t))}function Hr(e){return Vt.get(e)}var me={recoilValues:Mn,registerNode:cs,getNode:us,getNodeMaybe:ds,deleteNodeConfigIfPossible:fs,setConfigDeletionHandler:hs,getConfigDeletionHandler:Hr,recoilValuesForKeys:as,DefaultValue:Gr,DEFAULT_VALUE:is};function ps(e,t){t()}var vs={enqueueExecution:ps};function ys(e,t){return t={exports:{}},e(t,t.exports),t.exports}var _s=ys(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n={},r=5,o=Math.pow(2,r),i=o-1,a=o/2,l=o/4,c={},d=function(s){return function(){return s}},h=n.hash=function(u){var s=typeof u>"u"?"undefined":t(u);if(s==="number")return u;s!=="string"&&(u+="");for(var v=0,_=0,m=u.length;_<m;++_){var w=u.charCodeAt(_);v=(v<<5)-v+w|0}return v},p=function(s){return s-=s>>1&1431655765,s=(s&858993459)+(s>>2&858993459),s=s+(s>>4)&252645135,s+=s>>8,s+=s>>16,s&127},R=function(s,v){return v>>>s&i},b=function(s){return 1<<s},y=function(s,v){return p(s&v-1)},C=function(s,v,_,m){var w=m;if(!s){var M=m.length;w=new Array(M);for(var N=0;N<M;++N)w[N]=m[N]}return w[v]=_,w},k=function(s,v,_){var m=_.length-1,w=0,M=0,N=_;if(s)w=M=v;else for(N=new Array(m);w<v;)N[M++]=_[w++];for(++w;w<=m;)N[M++]=_[w++];return s&&(N.length=m),N},O=function(s,v,_,m){var w=m.length;if(s){for(var M=w;M>=v;)m[M--]=m[M];return m[v]=_,m}for(var N=0,L=0,D=new Array(w+1);N<v;)D[L++]=m[N++];for(D[v]=_;N<w;)D[++L]=m[N++];return D},B=1,W=2,I=3,j=4,z={__hamt_isEmpty:!0},F=function(s){return s===z||s&&s.__hamt_isEmpty},Z=function(s,v,_,m){return{type:B,edit:s,hash:v,key:_,value:m,_modify:ut}},U=function(s,v,_){return{type:W,edit:s,hash:v,children:_,_modify:dt}},ee=function(s,v,_){return{type:I,edit:s,mask:v,children:_,_modify:We}},De=function(s,v,_){return{type:j,edit:s,size:v,children:_,_modify:ft}},Be=function(s){return s===z||s.type===B||s.type===W},ge=function(s,v,_,m,w){for(var M=[],N=m,L=0,D=0;N;++D)N&1&&(M[D]=w[L++]),N>>>=1;return M[v]=_,De(s,L+1,M)},Re=function(s,v,_,m){for(var w=new Array(v-1),M=0,N=0,L=0,D=m.length;L<D;++L)if(L!==_){var H=m[L];H&&!F(H)&&(w[M++]=H,N|=1<<L)}return ee(s,N,w)},ct=function u(s,v,_,m,w,M){if(_===w)return U(s,_,[M,m]);var N=R(v,_),L=R(v,w);return ee(s,b(N)|b(L),N===L?[u(s,v+r,_,m,w,M)]:N<L?[m,M]:[M,m])},lt=function(s,v,_,m,w,M,N,L){for(var D=w.length,H=0;H<D;++H){var ae=w[H];if(_(N,ae.key)){var te=ae.value,de=M(te);return de===te?w:de===c?(--L.value,k(s,H,w)):C(s,H,Z(v,m,N,de),w)}}var he=M();return he===c?w:(++L.value,C(s,D,Z(v,m,N,he),w))},$e=function(s,v){return s===v.edit},ut=function(s,v,_,m,w,M,N){if(v(M,this.key)){var L=m(this.value);return L===this.value?this:L===c?(--N.value,z):$e(s,this)?(this.value=L,this):Z(s,w,M,L)}var D=m();return D===c?this:(++N.value,ct(s,_,this.hash,this,w,Z(s,w,M,D)))},dt=function(s,v,_,m,w,M,N){if(w===this.hash){var L=$e(s,this),D=lt(L,s,v,this.hash,this.children,m,M,N);return D===this.children?this:D.length>1?U(s,this.hash,D):D[0]}var H=m();return H===c?this:(++N.value,ct(s,_,this.hash,this,w,Z(s,w,M,H)))},We=function(s,v,_,m,w,M,N){var L=this.mask,D=this.children,H=R(_,w),ae=b(H),te=y(L,ae),de=L&ae,he=de?D[te]:z,Ie=he._modify(s,v,_+r,m,w,M,N);if(he===Ie)return this;var pt=$e(s,this),Ke=L,Ge=void 0;if(de&&F(Ie)){if(Ke&=~ae,!Ke)return z;if(D.length<=2&&Be(D[te^1]))return D[te^1];Ge=k(pt,te,D)}else if(!de&&!F(Ie)){if(D.length>=a)return ge(s,H,Ie,L,D);Ke|=ae,Ge=O(pt,te,Ie,D)}else Ge=C(pt,te,Ie,D);return pt?(this.mask=Ke,this.children=Ge,this):ee(s,Ke,Ge)},ft=function(s,v,_,m,w,M,N){var L=this.size,D=this.children,H=R(_,w),ae=D[H],te=(ae||z)._modify(s,v,_+r,m,w,M,N);if(ae===te)return this;var de=$e(s,this),he=void 0;if(F(ae)&&!F(te))++L,he=C(de,H,te,D);else if(!F(ae)&&F(te)){if(--L,L<=l)return Re(s,L,H,D);he=C(de,H,z,D)}else he=C(de,H,te,D);return de?(this.size=L,this.children=he,this):De(s,L,he)};z._modify=function(u,s,v,_,m,w,M){var N=_();return N===c?z:(++M.value,Z(u,m,w,N))};function f(u,s,v,_,m){this._editable=u,this._edit=s,this._config=v,this._root=_,this._size=m}f.prototype.setTree=function(u,s){return this._editable?(this._root=u,this._size=s,this):u===this._root?this:new f(this._editable,this._edit,this._config,u,s)};var g=n.tryGetHash=function(u,s,v,_){for(var m=_._root,w=0,M=_._config.keyEq;;)switch(m.type){case B:return M(v,m.key)?m.value:u;case W:{if(s===m.hash)for(var N=m.children,L=0,D=N.length;L<D;++L){var H=N[L];if(M(v,H.key))return H.value}return u}case I:{var ae=R(w,s),te=b(ae);if(m.mask&te){m=m.children[y(m.mask,te)],w+=r;break}return u}case j:{if(m=m.children[R(w,s)],m){w+=r;break}return u}default:return u}};f.prototype.tryGetHash=function(u,s,v){return g(u,s,v,this)};var S=n.tryGet=function(u,s,v){return g(u,v._config.hash(s),s,v)};f.prototype.tryGet=function(u,s){return S(u,s,this)};var x=n.getHash=function(u,s,v){return g(void 0,u,s,v)};f.prototype.getHash=function(u,s){return x(u,s,this)},n.get=function(u,s){return g(void 0,s._config.hash(u),u,s)},f.prototype.get=function(u,s){return S(s,u,this)};var A=n.has=function(u,s,v){return g(c,u,s,v)!==c};f.prototype.hasHash=function(u,s){return A(u,s,this)};var P=n.has=function(u,s){return A(s._config.hash(u),u,s)};f.prototype.has=function(u){return P(u,this)};var T=function(s,v){return s===v};n.make=function(u){return new f(0,0,{keyEq:u&&u.keyEq||T,hash:u&&u.hash||h},z,0)},n.empty=n.make();var K=n.isEmpty=function(u){return u&&!!F(u._root)};f.prototype.isEmpty=function(){return K(this)};var X=n.modifyHash=function(u,s,v,_){var m={value:_._size},w=_._root._modify(_._editable?_._edit:NaN,_._config.keyEq,0,u,s,v,m);return _.setTree(w,m.value)};f.prototype.modifyHash=function(u,s,v){return X(v,u,s,this)};var re=n.modify=function(u,s,v){return X(u,v._config.hash(s),s,v)};f.prototype.modify=function(u,s){return re(s,u,this)};var G=n.setHash=function(u,s,v,_){return X(d(v),u,s,_)};f.prototype.setHash=function(u,s,v){return G(u,s,v,this)};var oe=n.set=function(u,s,v){return G(v._config.hash(u),u,s,v)};f.prototype.set=function(u,s){return oe(u,s,this)};var Ce=d(c),fe=n.removeHash=function(u,s,v){return X(Ce,u,s,v)};f.prototype.removeHash=f.prototype.deleteHash=function(u,s){return fe(u,s,this)};var ie=n.remove=function(u,s){return fe(s._config.hash(u),u,s)};f.prototype.remove=f.prototype.delete=function(u){return ie(u,this)};var ht=n.beginMutation=function(u){return new f(u._editable+1,u._edit+1,u._config,u._root,u._size)};f.prototype.beginMutation=function(){return ht(this)};var zn=n.endMutation=function(u){return u._editable=u._editable&&u._editable-1,u};f.prototype.endMutation=function(){return zn(this)};var Io=n.mutate=function(u,s){var v=ht(s);return u(v),zn(v)};f.prototype.mutate=function(u){return Io(u,this)};var qt=function(s){return s&&Un(s[0],s[1],s[2],s[3],s[4])},Un=function(s,v,_,m,w){for(;_<s;){var M=v[_++];if(M&&!F(M))return Fn(M,m,[s,v,_,m,w])}return qt(w)},Fn=function(s,v,_){switch(s.type){case B:return{value:v(s),rest:_};case W:case j:case I:var m=s.children;return Un(m.length,m,0,v,_);default:return qt(_)}},Po={done:!0};function Zt(u){this.v=u}Zt.prototype.next=function(){if(!this.v)return Po;var u=this.v;return this.v=qt(u.rest),u},Zt.prototype[Symbol.iterator]=function(){return this};var Xt=function(s,v){return new Zt(Fn(s._root,v))},Oo=function(s){return[s.key,s.value]},jo=n.entries=function(u){return Xt(u,Oo)};f.prototype.entries=f.prototype[Symbol.iterator]=function(){return jo(this)};var zo=function(s){return s.key},Uo=n.keys=function(u){return Xt(u,zo)};f.prototype.keys=function(){return Uo(this)};var Fo=function(s){return s.value},Bo=n.values=f.prototype.values=function(u){return Xt(u,Fo)};f.prototype.values=function(){return Bo(this)};var Bn=n.fold=function(u,s,v){var _=v._root;if(_.type===B)return u(s,_.value,_.key);for(var m=[_.children],w=void 0;w=m.pop();)for(var M=0,N=w.length;M<N;){var L=w[M++];L&&L.type&&(L.type===B?s=u(s,L.value,L.key):m.push(L.children))}return s};f.prototype.fold=function(u,s){return Bn(u,s,this)};var Wo=n.forEach=function(u,s){return Bn(function(v,_,m){return u(_,m,s)},null,s)};f.prototype.forEach=function(u){return Wo(u,this)};var Ko=n.count=function(u){return u._size};f.prototype.count=function(){return Ko(this)},Object.defineProperty(f.prototype,"size",{get:f.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n});class ms{constructor(t){V(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,n){return this._map.set(t,n),this}delete(t){return this._map.delete(t),this}clone(){return kn(this)}toMap(){return new Map(this._map)}}class Vn{constructor(t){if(V(this,"_hamt",_s.empty.beginMutation()),t instanceof Vn){const n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t)for(const[n,r]of t.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,n){return this._hamt.set(t,n),this}delete(t){return this._hamt.delete(t),this}clone(){return kn(this)}toMap(){return new Map(this._hamt)}}function kn(e){return J("recoil_hamt_2020")?new Vn(e):new ms(e)}var gs={persistentMap:kn},bs=gs.persistentMap,Ss=Object.freeze({__proto__:null,persistentMap:bs});function ws(e,...t){const n=new Set;e:for(const r of e){for(const o of t)if(o.has(r))continue e;n.add(r)}return n}var ir=ws;function Rs(e,t){const n=new Map;return e.forEach((r,o)=>{n.set(o,t(r,o))}),n}var ar=Rs;function Es(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function Cs(e){return{nodeDeps:ar(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:ar(e.nodeToNodeSubscriptions,t=>new Set(t))}}function cn(e,t,n,r){const{nodeDeps:o,nodeToNodeSubscriptions:i}=n,a=o.get(e);if(a&&r&&a!==r.nodeDeps.get(e))return;o.set(e,t);const l=a==null?t:ir(t,a);for(const c of l)i.has(c)||i.set(c,new Set),Y(i.get(c)).add(e);if(a){const c=ir(a,t);for(const d of c){if(!i.has(d))return;const h=Y(i.get(d));h.delete(e),h.size===0&&i.delete(d)}}}function As(e,t,n,r){var o,i,a,l;const c=n.getState();r===c.currentTree.version||r===((o=c.nextTree)===null||o===void 0?void 0:o.version)||r===((i=c.previousTree)===null||i===void 0?void 0:i.version)||ye();const d=n.getGraph(r);if(cn(e,t,d),r===((a=c.previousTree)===null||a===void 0?void 0:a.version)){const p=n.getGraph(c.currentTree.version);cn(e,t,p,d)}if(r===((l=c.previousTree)===null||l===void 0?void 0:l.version)||r===c.currentTree.version){var h;const p=(h=c.nextTree)===null||h===void 0?void 0:h.version;if(p!==void 0){const R=n.getGraph(p);cn(e,t,R,d)}}}var at={cloneGraph:Cs,graph:Es,saveDepsToStore:As};let Ts=0;const Ns=()=>Ts++;let Ls=0;const Ms=()=>Ls++;var xn={getNextTreeStateVersion:Ns,getNextStoreID:Ms};const{persistentMap:sr}=Ss,{graph:Vs}=at,{getNextTreeStateVersion:qr}=xn;function ks(){const e=qr();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:sr(),nonvalidatedAtoms:sr()}}function xs(){const e=ks();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,Vs()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Zr={makeEmptyStoreState:xs,getNextTreeStateVersion:qr};class Ds{}var Xr={RetentionZone:Ds};function $s(e,t){const n=new Set(e);return n.add(t),n}var Is={setByAddingToSet:$s};function*Ps(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)}var Dn=Ps;function Os(e,t){return new Proxy(e,{get:(r,o)=>(!(o in r)&&o in t&&(r[o]=t[o]()),r[o]),ownKeys:r=>Object.keys(r)})}var Yr=Os;const{getNode:st,getNodeMaybe:js,recoilValuesForKeys:cr}=me,{RetentionZone:lr}=Xr,{setByAddingToSet:zs}=Is,Us=Object.freeze(new Set);class Fs extends Error{}function Bs(e,t,n){if(!J("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function o(i){let a=r.get(i);a||r.set(i,a=new Set),a.add(t)}if(n instanceof lr)o(n);else if(Array.isArray(n))for(const i of n)o(i);return()=>{if(!J("recoil_memory_managament_2020"))return;const{retention:i}=e.getState();function a(l){const c=i.nodesRetainedByZone.get(l);c==null||c.delete(t),c&&c.size===0&&i.nodesRetainedByZone.delete(l)}if(n instanceof lr)a(n);else if(Array.isArray(n))for(const l of n)a(l)}}function $n(e,t,n,r){const o=e.getState();if(o.nodeCleanupFunctions.has(n))return;const i=st(n),a=Bs(e,n,i.retainedBy),l=i.init(e,t,r);o.nodeCleanupFunctions.set(n,()=>{l(),a()})}function Ws(e,t,n){$n(e,e.getState().currentTree,t,n)}function Ks(e,t){var n;const r=e.getState();(n=r.nodeCleanupFunctions.get(t))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(t)}function Gs(e,t,n){return $n(e,t,n,"get"),st(n).get(e,t)}function Jr(e,t,n){return st(n).peek(e,t)}function Hs(e,t,n){var r;const o=js(t);return o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:zs(e.dirtyAtoms,t)}}function qs(e,t,n,r){const o=st(n);if(o.set==null)throw new Fs(`Attempt to set read-only RecoilValue: ${n}`);const i=o.set;return $n(e,t,n,"set"),i(e,t,r)}function Zs(e,t,n){const r=e.getState(),o=e.getGraph(t.version),i=st(n).nodeType;return Yr({type:i},{loadable:()=>Jr(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var a;return cr((a=o.nodeDeps.get(n))!==null&&a!==void 0?a:[])},subscribers:()=>{var a,l;return{nodes:cr(Dn(Qr(e,t,new Set([n])),c=>c!==n)),components:Ut((a=(l=r.nodeToComponentSubscriptions.get(n))===null||l===void 0?void 0:l.values())!==null&&a!==void 0?a:[],([c])=>({name:c}))}}})}function Qr(e,t,n){const r=new Set,o=Array.from(n),i=e.getGraph(t.version);for(let l=o.pop();l;l=o.pop()){var a;r.add(l);const c=(a=i.nodeToNodeSubscriptions.get(l))!==null&&a!==void 0?a:Us;for(const d of c)r.has(d)||o.push(d)}return r}var Fe={getNodeLoadable:Gs,peekNodeLoadable:Jr,setNodeValue:qs,initializeNode:Ws,cleanUpNode:Ks,setUnvalidatedAtomValue_DEPRECATED:Hs,peekNodeInfo:Zs,getDownstreamNodes:Qr};let eo=null;function Xs(e){eo=e}function Ys(){var e;(e=eo)===null||e===void 0||e()}var to={setInvalidateMemoizedSnapshot:Xs,invalidateMemoizedSnapshot:Ys};const{getDownstreamNodes:Js,getNodeLoadable:no,setNodeValue:Qs}=Fe,{getNode:ec,getNodeMaybe:ro}=me,{DefaultValue:In}=me,{AbstractRecoilValue:tc,RecoilState:dd,RecoilValueReadOnly:fd,isRecoilValue:hd}=Me,{invalidateMemoizedSnapshot:nc}=to;function rc(e,{key:t},n=e.getState().currentTree){var r,o;const i=e.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||n.version===((o=i.previousTree)===null||o===void 0?void 0:o.version)||ye();const a=no(e,n,t);return a.state==="loading"&&a.contents.catch(()=>{}),a}function oc(e,t){const n=e.clone();return t.forEach((r,o)=>{r.state==="hasValue"&&r.contents instanceof In?n.delete(o):n.set(o,r)}),n}function ic(e,t,{key:n},r){if(typeof r=="function"){const o=no(e,t,n);if(o.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw ye(),$(i)}else if(o.state==="hasError")throw o.contents;return r(o.contents)}else return r}function ac(e,t,n){if(n.type==="set"){const{recoilValue:o,valueOrUpdater:i}=n,a=ic(e,t,o,i),l=Qs(e,t,o.key,a);for(const[c,d]of l.entries())mn(t,c,d)}else if(n.type==="setLoadable"){const{recoilValue:{key:o},loadable:i}=n;mn(t,o,i)}else if(n.type==="markModified"){const{recoilValue:{key:o}}=n;t.dirtyAtoms.add(o)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:o},unvalidatedValue:i}=n,a=ro(o);a==null||(r=a.invalidate)===null||r===void 0||r.call(a,t),t.atomValues.delete(o),t.nonvalidatedAtoms.set(o,i),t.dirtyAtoms.add(o)}else ye(`Unknown action ${n.type}`)}function mn(e,t,n){n.state==="hasValue"&&n.contents instanceof In?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function oo(e,t){e.replaceState(n=>{const r=io(n);for(const o of t)ac(e,r,o);return ao(e,r),nc(),r})}function Ft(e,t){if(Qe.length){const n=Qe[Qe.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else oo(e,[t])}const Qe=[];function sc(){const e=new Map;return Qe.push(e),()=>{for(const[n,r]of e)oo(n,r);Qe.pop()!==e&&ye()}}function io(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function ao(e,t){const n=Js(e,t,t.dirtyAtoms);for(const i of n){var r,o;(r=ro(i))===null||r===void 0||(o=r.invalidate)===null||o===void 0||o.call(r,t)}}function so(e,t,n){Ft(e,{type:"set",recoilValue:t,valueOrUpdater:n})}function cc(e,t,n){if(n instanceof In)return so(e,t,n);Ft(e,{type:"setLoadable",recoilValue:t,loadable:n})}function lc(e,t){Ft(e,{type:"markModified",recoilValue:t})}function uc(e,t,n){Ft(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})}function dc(e,t){var n;const{currentTree:r}=e.getState(),o=ec(t.key);(n=o.clearCache)===null||n===void 0||n.call(o,e,r)}var ke={AbstractRecoilValue:tc,getRecoilValueAsLoadable:rc,setRecoilValue:so,setRecoilValueLoadable:cc,markRecoilValueModified:lc,setUnvalidatedRecoilValue:uc,applyAtomValueWrites:oc,batchStart:sc,writeLoadableToTreeState:mn,invalidateDownstreams:ao,copyTreeState:io,refreshRecoilValue:dc};function fc(e,t,n){const r=e.entries();let o=r.next();for(;!o.done;){const i=o.value;if(t.call(n,i[1],i[0],e))return!0;o=r.next()}return!1}var hc=fc;const{cleanUpNode:pc}=Fe,{deleteNodeConfigIfPossible:vc,getNode:co}=me,{RetentionZone:lo}=Xr,uo=new Set;function fo(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree){ye();return}const o=new Set;for(const a of t)if(a instanceof lo)for(const l of gc(n,a))o.add(l);else o.add(a);const i=yc(e,o);for(const a of i)mc(e,r,a)}function yc(e,t){const n=e.getState(),r=n.currentTree,o=e.getGraph(r.version),i=new Set,a=new Set;return l(t),i;function l(c){const d=new Set,h=_c(e,r,c,i,a);for(const y of h){var p;if(co(y).retainedBy==="recoilRoot"){a.add(y);continue}if(((p=n.retention.referenceCounts.get(y))!==null&&p!==void 0?p:0)>0){a.add(y);continue}if(ho(y).some(k=>n.retention.referenceCounts.get(k))){a.add(y);continue}const C=o.nodeToNodeSubscriptions.get(y);if(C&&hc(C,k=>a.has(k))){a.add(y);continue}i.add(y),d.add(y)}const R=new Set;for(const y of d)for(const C of(b=o.nodeDeps.get(y))!==null&&b!==void 0?b:uo){var b;i.has(C)||R.add(C)}R.size&&l(R)}}function _c(e,t,n,r,o){const i=e.getGraph(t.version),a=[],l=new Set;for(;n.size>0;)c(Y(n.values().next().value));return a;function c(d){if(r.has(d)||o.has(d)){n.delete(d);return}if(l.has(d))return;const h=i.nodeToNodeSubscriptions.get(d);if(h)for(const p of h)c(p);l.add(d),n.delete(d),a.push(d)}}function mc(e,t,n){if(!J("recoil_memory_managament_2020"))return;pc(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const o=ho(n);for(const c of o){var i;(i=r.retention.nodesRetainedByZone.get(c))===null||i===void 0||i.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const a=r.graphsByVersion.get(t.version);if(a){const c=a.nodeDeps.get(n);if(c!==void 0){a.nodeDeps.delete(n);for(const d of c){var l;(l=a.nodeToNodeSubscriptions.get(d))===null||l===void 0||l.delete(n)}}a.nodeToNodeSubscriptions.delete(n)}vc(n)}function gc(e,t){var n;return(n=e.retention.nodesRetainedByZone.get(t))!==null&&n!==void 0?n:uo}function ho(e){const t=co(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof lo?[t]:t}function bc(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):fo(e,new Set([t]))}function Sc(e,t,n){var r;if(!J("recoil_memory_managament_2020"))return;const o=e.getState().retention.referenceCounts,i=((r=o.get(t))!==null&&r!==void 0?r:0)+n;i===0?wc(e,t):o.set(t,i)}function wc(e,t){if(!J("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),bc(e,t)}function Rc(e){if(!J("recoil_memory_managament_2020"))return;const t=e.getState();fo(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function Ec(e){return e===void 0?"recoilRoot":e}var Pn={updateRetainCount:Sc,releaseScheduledRetainablesNow:Rc,retainedByOptionWithDefault:Ec};const{unstable_batchedUpdates:Cc}=qo;var Ac={unstable_batchedUpdates:Cc};const{unstable_batchedUpdates:Tc}=Ac;var Nc={unstable_batchedUpdates:Tc};const{batchStart:Lc}=ke,{unstable_batchedUpdates:Mc}=Nc;let Vc=Mc||(e=>e());const kc=e=>{Vc(()=>{let t=()=>{};try{t=Lc(),e()}finally{t()}})};var On={batchUpdates:kc};function*xc(e){for(const t of e)for(const n of t)yield n}var po=xc;const Dc=typeof Window>"u"||typeof window>"u";var $c={isSSR:Dc};function Ic(e,t){let n,r;return[(...a)=>{const l=t(...a);return n===l||(n=l,r=e(...a)),r},()=>{n=null}]}var Pc={memoizeOneWithArgsHashAndInvalidation:Ic};const{batchUpdates:gn}=On,{initializeNode:Oc,peekNodeInfo:jc}=Fe,{graph:zc}=at,{getNextStoreID:Uc}=xn,{DEFAULT_VALUE:Fc,recoilValues:ur,recoilValuesForKeys:dr}=me,{AbstractRecoilValue:Bc,getRecoilValueAsLoadable:Wc,setRecoilValue:fr,setUnvalidatedRecoilValue:Kc}=ke,{updateRetainCount:Ct}=Pn,{setInvalidateMemoizedSnapshot:Gc}=to,{getNextTreeStateVersion:Hc,makeEmptyStoreState:qc}=Zr,{isSSR:Zc}=$c,{memoizeOneWithArgsHashAndInvalidation:Xc}=Pc;class Bt{constructor(t,n){V(this,"_store",void 0),V(this,"_refCount",1),V(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),Wc(this._store,r))),V(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),V(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const a=this._store.getState().currentTree;return dr(a.dirtyAtoms)}const o=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?ur.values():r.isInitialized===!0?dr(po([o,i])):Dn(ur.values(),({key:a})=>!o.has(a)&&!i.has(a))}),V(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),jc(this._store,this._store.getState().currentTree,r))),V(this,"map",r=>{this.checkRefCount_INTERNAL();const o=new bn(this,gn);return r(o),o}),V(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const o=new bn(this,gn);return o.retain(),await r(o),o.autoRelease_INTERNAL(),o}),this._store={storeID:Uc(),parentStoreID:n,getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{const o=t.graphsByVersion;if(o.has(r))return Y(o.get(r));const i=zc();return o.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw $("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)Oc(this._store,r,"get"),Ct(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&ye(),this._refCount++;let t=!1;return()=>{t||(t=!0,this._release())}}autoRelease_INTERNAL(){Zc||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(t=>t()),this._store.getState().nodeCleanupFunctions.clear(),!J("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){J("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function vo(e,t,n=!1){const r=e.getState(),o=n?Hc():t.version;return{currentTree:{version:n?o:t.version,stateID:n?o:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(o,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Ut(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function Yc(e){const t=new Bt(qc());return e!=null?t.map(e):t}const[hr,yo]=Xc((e,t)=>{var n;const r=e.getState(),o=t==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Y(r.previousTree);return new Bt(vo(e,o),e.storeID)},(e,t)=>{var n,r;return String(t)+String(e.storeID)+String((n=e.getState().nextTree)===null||n===void 0?void 0:n.version)+String(e.getState().currentTree.version)+String((r=e.getState().previousTree)===null||r===void 0?void 0:r.version)});Gc(yo);function Jc(e,t="latest"){const n=hr(e,t);return n.isRetained()?n:(yo(),hr(e,t))}class bn extends Bt{constructor(t,n){super(vo(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0),t.getStoreID()),V(this,"_batch",void 0),V(this,"set",(r,o)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Ct(i,r.key,1),fr(this.getStore_INTERNAL(),r,o)})}),V(this,"reset",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Ct(o,r.key,1),fr(this.getStore_INTERNAL(),r,Fc)})}),V(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();gn(()=>{for(const[i,a]of r.entries())Ct(o,i,1),Kc(o,new Bc(i),a)})}),this._batch=n}}var Wt={Snapshot:Bt,MutableSnapshot:bn,freshSnapshot:Yc,cloneSnapshot:Jc},Qc=Wt.Snapshot,el=Wt.MutableSnapshot,tl=Wt.freshSnapshot,nl=Wt.cloneSnapshot,Kt=Object.freeze({__proto__:null,Snapshot:Qc,MutableSnapshot:el,freshSnapshot:tl,cloneSnapshot:nl});function rl(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}var ol=rl;const{useRef:il}=q;function al(e){const t=il(e);return t.current===e&&typeof e=="function"&&(t.current=e()),t}var pr=al;const{getNextTreeStateVersion:sl,makeEmptyStoreState:_o}=Zr,{cleanUpNode:cl,getDownstreamNodes:ll,initializeNode:ul,setNodeValue:dl,setUnvalidatedAtomValue_DEPRECATED:fl}=Fe,{graph:hl}=at,{cloneGraph:pl}=at,{getNextStoreID:mo}=xn,{createMutableSource:ln,reactMode:go}=Ja,{applyAtomValueWrites:vl}=ke,{releaseScheduledRetainablesNow:bo}=Pn,{freshSnapshot:yl}=Kt,{useCallback:_l,useContext:ml,useEffect:Sn,useMemo:gl,useRef:bl,useState:Sl}=q;function He(){throw $("This component must be used inside a <RecoilRoot> component.")}const So=Object.freeze({storeID:mo(),getState:He,replaceState:He,getGraph:He,subscribeToTransactions:He,addTransactionMetadata:He});let wn=!1;function vr(e){if(wn)throw $("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(t.nextTree===null){J("recoil_memory_managament_2020")&&J("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&bo(e);const n=t.currentTree.version,r=sl();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,pl(Y(t.graphsByVersion.get(n))))}}const wo=q.createContext({current:So}),Ro=()=>ml(wo),wl=q.createContext(null);function Eo(e,t,n){const r=ll(e,n,n.dirtyAtoms);for(const o of r){const i=t.nodeToComponentSubscriptions.get(o);if(i)for(const[a,[l,c]]of i)c(n)}}function Rl(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[o,i]of t.nodeTransactionSubscriptions)if(r.has(o))for(const[a,l]of i)l(e);for(const[o,i]of t.transactionSubscriptions)i(e);(!go().early||t.suspendedComponentResolvers.size>0)&&(Eo(e,t,n),t.suspendedComponentResolvers.forEach(o=>o()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(o=>o(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function El(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(n==null)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Rl(e),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):ye("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,J("recoil_memory_managament_2020")&&n==null&&bo(e)}finally{t.commitDepth--}}function Cl({setNotifyBatcherOfChange:e}){const t=Ro(),[,n]=Sl([]);return e(()=>n({})),Sn(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),Sn(()=>{vs.enqueueExecution("Batcher",()=>{El(t.current)})}),null}function Al(e,t){const n=_o();return t({set:(r,o)=>{const i=n.currentTree,a=dl(e,i,r.key,o),l=new Set(a.keys()),c=i.nonvalidatedAtoms.clone();for(const d of l)c.delete(d);n.currentTree={...i,dirtyAtoms:ol(i.dirtyAtoms,l),atomValues:vl(i.atomValues,a),nonvalidatedAtoms:c}},setUnvalidatedAtomValues:r=>{r.forEach((o,i)=>{n.currentTree=fl(n.currentTree,i,o)})}}),n}function Tl(e){const t=yl(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let yr=0;function Nl({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let o;const i=b=>{const y=o.current.graphsByVersion;if(y.has(b))return Y(y.get(b));const C=hl();return y.set(b,C),C},a=(b,y)=>{if(y==null){const{transactionSubscriptions:C}=p.current.getState(),k=yr++;return C.set(k,b),{release:()=>{C.delete(k)}}}else{const{nodeTransactionSubscriptions:C}=p.current.getState();C.has(y)||C.set(y,new Map);const k=yr++;return Y(C.get(y)).set(k,b),{release:()=>{const O=C.get(y);O&&(O.delete(k),O.size===0&&C.delete(y))}}}},l=b=>{vr(p.current);for(const y of Object.keys(b))Y(p.current.getState().nextTree).transactionMetadata[y]=b[y]},c=b=>{vr(p.current);const y=Y(o.current.nextTree);let C;try{wn=!0,C=b(y)}finally{wn=!1}C!==y&&(o.current.nextTree=C,go().early&&Eo(p.current,o.current,C),Y(d.current)())},d=bl(null),h=_l(b=>{d.current=b},[d]),p=pr(()=>n??{storeID:mo(),getState:()=>o.current,replaceState:c,getGraph:i,subscribeToTransactions:a,addTransactionMetadata:l});n!=null&&(p.current=n),o=pr(()=>e!=null?Al(p.current,e):t!=null?Tl(t):_o());const R=gl(()=>ln==null?void 0:ln(o,()=>o.current.currentTree.version),[o]);return Sn(()=>{const b=p.current;for(const y of new Set(b.getState().knownAtoms))ul(b,y,"get");return()=>{for(const y of b.getState().knownAtoms)cl(b,y)}},[p]),q.createElement(wo.Provider,{value:p},q.createElement(wl.Provider,{value:R},q.createElement(Cl,{setNotifyBatcherOfChange:h}),r))}function Ll(e){const{override:t,...n}=e,r=Ro();return t===!1&&r.current!==So?e.children:q.createElement(Nl,n)}var Ml={RecoilRoot:Ll};const{useEffect:pd,useRef:vd}=q,{useEffect:yd,useRef:_d}=q,{isRecoilValue:md}=Me,{useCallback:gd,useEffect:bd,useMemo:Sd,useRef:wd,useState:Rd}=q,{batchUpdates:Vl}=On,{DEFAULT_VALUE:kl,getNode:xl}=me,{AbstractRecoilValue:Dl,setRecoilValueLoadable:$l}=ke,{cloneSnapshot:Ed}=Kt,{useCallback:Cd,useEffect:Ad,useRef:Td,useState:Nd}=q;function Il(e,t){var n;const r=e.getState(),o=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=t.getStore_INTERNAL().getState().currentTree;Vl(()=>{const a=new Set;for(const d of[o.atomValues.keys(),i.atomValues.keys()])for(const h of d){var l,c;((l=o.atomValues.get(h))===null||l===void 0?void 0:l.contents)!==((c=i.atomValues.get(h))===null||c===void 0?void 0:c.contents)&&xl(h).shouldRestoreFromSnapshots&&a.add(h)}a.forEach(d=>{$l(e,new Dl(d),i.atomValues.has(d)?Y(i.atomValues.get(d)):kl)}),e.replaceState(d=>({...d,stateID:t.getID()}))})}var Pl={gotoSnapshot:Il};const{useMemo:Ld}=q,{loadableWithValue:Ol}=ot,{initializeNode:jl}=Fe,{DEFAULT_VALUE:zl,getNode:Ul}=me,{copyTreeState:Fl,getRecoilValueAsLoadable:Bl,invalidateDownstreams:Wl,writeLoadableToTreeState:Kl}=ke;function _r(e){return Ul(e.key).nodeType==="atom"}class Gl{constructor(t,n){V(this,"_store",void 0),V(this,"_treeState",void 0),V(this,"_changes",void 0),V(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!_r(r))throw $("Reading selectors within atomicUpdate is not supported");const o=Bl(this._store,r,this._treeState);if(o.state==="hasValue")return o.contents;throw o.state==="hasError"?o.contents:$(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),V(this,"set",(r,o)=>{if(!_r(r))throw $("Setting selectors within atomicUpdate is not supported");if(typeof o=="function"){const i=this.get(r);this._changes.set(r.key,o(i))}else jl(this._store,r.key,"set"),this._changes.set(r.key,o)}),V(this,"reset",r=>{this.set(r,zl)}),this._store=t,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const t=Fl(this._treeState);for(const[n,r]of this._changes)Kl(t,n,Ol(r));return Wl(this._store,t),t}}function Hl(e){return t=>{e.replaceState(n=>{const r=new Gl(e,n);return t(r),r.newTreeState_INTERNAL()})}}var ql={atomicUpdater:Hl},Zl=ql.atomicUpdater,Co=Object.freeze({__proto__:null,atomicUpdater:Zl});function Xl(e,t){if(!e)throw new Error(t)}var Yl=Xl,Ye=Yl;const{atomicUpdater:Jl}=Co,{batchUpdates:Ql}=On,{DEFAULT_VALUE:eu}=me,{refreshRecoilValue:tu,setRecoilValue:mr}=ke,{cloneSnapshot:nu}=Kt,{gotoSnapshot:ru}=Pl,{useCallback:Md}=q;class Ao{}const ou=new Ao;function iu(e,t,n,r){let o=ou,i;if(Ql(()=>{const l="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw $(l);const c=Yr({...r??{},set:(h,p)=>mr(e,h,p),reset:h=>mr(e,h,eu),refresh:h=>tu(e,h),gotoSnapshot:h=>ru(e,h),transact_UNSTABLE:h=>Jl(e)(h)},{snapshot:()=>{const h=nu(e);return i=h.retain(),h}}),d=t(c);if(typeof d!="function")throw $(l);o=d(...n)}),o instanceof Ao&&Ye(!1),Q(o))o=o.finally(()=>{var l;(l=i)===null||l===void 0||l()});else{var a;(a=i)===null||a===void 0||a()}return o}var au={recoilCallback:iu};const{useCallback:Vd}=q,{atomicUpdater:kd}=Co,{useMemo:xd}=q;class su{constructor(t){V(this,"value",void 0),this.value=t}}var cu={WrappedValue:su},lu=cu.WrappedValue,To=Object.freeze({__proto__:null,WrappedValue:lu});class gr extends Error{}class uu{constructor(t){var n,r,o;V(this,"_name",void 0),V(this,"_numLeafs",void 0),V(this,"_root",void 0),V(this,"_onHit",void 0),V(this,"_onSet",void 0),V(this,"_mapNodeValue",void 0),this._name=t==null?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=(n=t==null?void 0:t.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=t==null?void 0:t.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(o=t==null?void 0:t.mapNodeValue)!==null&&o!==void 0?o:i=>i}size(){return this._numLeafs}root(){return this._root}get(t,n){var r;return(r=this.getLeafNode(t,n))===null||r===void 0?void 0:r.value}getLeafNode(t,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const o=this._mapNodeValue(t(r.nodeKey));r=r.branches.get(o)}}set(t,n,r){const o=()=>{var i,a,l,c;let d,h;for(const[k,O]of t){var p,R,b;const B=this._root;if((B==null?void 0:B.type)==="leaf")throw this.invalidCacheError();const W=d;if(d=W?W.branches.get(h):B,d=(p=d)!==null&&p!==void 0?p:{type:"branch",nodeKey:k,parent:W,branches:new Map,branchKey:h},d.type!=="branch"||d.nodeKey!==k)throw this.invalidCacheError();W==null||W.branches.set(h,d),r==null||(R=r.onNodeVisit)===null||R===void 0||R.call(r,d),h=this._mapNodeValue(O),this._root=(b=this._root)!==null&&b!==void 0?b:d}const y=d?(i=d)===null||i===void 0?void 0:i.branches.get(h):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==h))throw this.invalidCacheError();const C={type:"leaf",value:n,parent:d,branchKey:h};(a=d)===null||a===void 0||a.branches.set(h,C),this._root=(l=this._root)!==null&&l!==void 0?l:C,this._numLeafs++,this._onSet(C),r==null||(c=r.onNodeVisit)===null||c===void 0||c.call(r,C)};try{o()}catch(i){if(i instanceof gr)this.clear(),o();else throw i}}delete(t){const n=this.root();if(!n)return!1;if(t===n)return this._root=null,this._numLeafs=0,!0;let r=t.parent,o=t.branchKey;for(;r;){var i;if(r.branches.delete(o),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;o=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw ye("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new gr}}var du={TreeCache:uu},fu=du.TreeCache,No=Object.freeze({__proto__:null,TreeCache:fu});class hu{constructor(t){var n;V(this,"_maxSize",void 0),V(this,"_size",void 0),V(this,"_head",void 0),V(this,"_tail",void 0),V(this,"_map",void 0),V(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=t.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){const n=this._keyMapper(t),r=this._map.get(n);if(r)return this.set(t,r.value),r.value}set(t,n){const r=this._keyMapper(t);this._map.get(r)&&this.delete(t);const i=this.head(),a={key:t,right:i,left:null,value:n};i?i.left=a:this._tail=a,this._map.set(r,a),this._head=a,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const t=this.tail();t&&this.delete(t.key)}delete(t){const n=this._keyMapper(t);if(!this._size||!this._map.has(n))return;const r=Y(this._map.get(n)),o=r.right,i=r.left;o&&(o.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=o),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var pu={LRUCache:hu},vu=pu.LRUCache,Lo=Object.freeze({__proto__:null,LRUCache:vu});const{LRUCache:yu}=Lo,{TreeCache:_u}=No;function mu({name:e,maxSize:t,mapNodeValue:n=r=>r}){const r=new yu({maxSize:t}),o=new _u({name:e,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const a=r.tail();r.set(i,!0),a&&o.size()>t&&o.delete(a.key)}});return o}var br=mu;function pe(e,t,n){if(typeof e=="string"&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw $("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var r;return(r=JSON.stringify(e))!==null&&r!==void 0?r:""}if(Q(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((o,i)=>pe(o,t,i.toString()))}]`;if(typeof e.toJSON=="function")return pe(e.toJSON(n),t,n);if(e instanceof Map){const o={};for(const[i,a]of e)o[typeof i=="string"?i:pe(i,t)]=a;return pe(o,t,n)}return e instanceof Set?pe(Array.from(e).sort((o,i)=>pe(o,t).localeCompare(pe(i,t))),t,n):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?pe(Array.from(e),t,n):`{${Object.keys(e).filter(o=>e[o]!==void 0).sort().map(o=>`${pe(o,t)}:${pe(e[o],t,o)}`).join(",")}}`}function gu(e,t={allowFunctions:!1}){return pe(e,t)}var jn=gu;const{TreeCache:bu}=No,gt={equality:"reference",eviction:"keep-all",maxSize:1/0};function Su({equality:e=gt.equality,eviction:t=gt.eviction,maxSize:n=gt.maxSize}=gt,r){const o=wu(e);return Ru(t,n,o,r)}function wu(e){switch(e){case"reference":return t=>t;case"value":return t=>jn(t)}throw $(`Unrecognized equality policy ${e}`)}function Ru(e,t,n,r){switch(e){case"keep-all":return new bu({name:r,mapNodeValue:n});case"lru":return br({name:r,maxSize:Y(t),mapNodeValue:n});case"most-recent":return br({name:r,maxSize:1,mapNodeValue:n})}throw $(`Unrecognized eviction policy ${e}`)}var Eu=Su;const{isLoadable:Cu,loadableWithError:bt,loadableWithPromise:Au,loadableWithValue:un}=ot,{WrappedValue:Mo}=To,{getNodeLoadable:St,peekNodeLoadable:Tu,setNodeValue:Nu}=Fe,{saveDepsToStore:Lu}=at,{DEFAULT_VALUE:Mu,getConfigDeletionHandler:Vu,getNode:ku,registerNode:Sr}=me,{isRecoilValue:xu}=Me,{markRecoilValueModified:wr}=ke,{retainedByOptionWithDefault:Du}=Pn,{recoilCallback:$u}=au;class Vo{}const qe=new Vo,Ze=[],wt=new Map,Iu=(()=>{let e=0;return()=>e++})();function ko(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:o}=e,i=e.set!=null?e.set:void 0,a=new Set,l=Eu(o??{equality:"reference",eviction:"keep-all"},n),c=Du(e.retainedBy_UNSTABLE),d=new Map;let h=0;function p(){return!J("recoil_memory_managament_2020")||h>0}function R(f){return f.getState().knownSelectors.add(n),h++,()=>{h--}}function b(){return Vu(n)!==void 0&&!p()}function y(f,g,S,x,A){lt(g,x,A),C(f,S)}function C(f,g){Re(f,g)&&ge(f),O(g,!0)}function k(f,g){Re(f,g)&&(Y(ee(f)).stateVersions.clear(),O(g,!1))}function O(f,g){const S=wt.get(f);if(S!=null){for(const x of S)wr(x,Y(t));g&&wt.delete(f)}}function B(f,g){let S=wt.get(g);S==null&&wt.set(g,S=new Set),S.add(f)}function W(f,g,S,x,A,P){return g.then(T=>{if(!p())throw ge(f),qe;const K=un(T);return y(f,S,A,K,x),T}).catch(T=>{if(!p())throw ge(f),qe;if(Q(T))return I(f,T,S,x,A,P);const K=bt(T);throw y(f,S,A,K,x),T})}function I(f,g,S,x,A,P){return g.then(T=>{if(!p())throw ge(f),qe;P.loadingDepKey!=null&&P.loadingDepPromise===g?S.atomValues.set(P.loadingDepKey,un(T)):f.getState().knownSelectors.forEach(G=>{S.atomValues.delete(G)});const K=F(f,S);if(K&&K.state!=="loading"){if((Re(f,A)||ee(f)==null)&&C(f,A),K.state==="hasValue")return K.contents;throw K.contents}if(!Re(f,A)){const G=U(f,S);if(G!=null)return G.loadingLoadable.contents}const[X,re]=z(f,S,A);if(X.state!=="loading"&&y(f,S,A,X,re),X.state==="hasError")throw X.contents;return X.contents}).catch(T=>{if(T instanceof Vo)throw qe;if(!p())throw ge(f),qe;const K=bt(T);throw y(f,S,A,K,x),T})}function j(f,g,S,x){var A,P,T,K;if(Re(f,x)||g.version===((A=f.getState())===null||A===void 0||(P=A.currentTree)===null||P===void 0?void 0:P.version)||g.version===((T=f.getState())===null||T===void 0||(K=T.nextTree)===null||K===void 0?void 0:K.version)){var X,re,G;Lu(n,S,f,(X=(re=f.getState())===null||re===void 0||(G=re.nextTree)===null||G===void 0?void 0:G.version)!==null&&X!==void 0?X:f.getState().currentTree.version)}for(const oe of S)a.add(oe)}function z(f,g,S){let x=!0,A=!0;const P=()=>{A=!1};let T,K=!1,X;const re={loadingDepKey:null,loadingDepPromise:null},G=new Map;function oe({key:fe}){const ie=St(f,g,fe);switch(G.set(fe,ie),x||(j(f,g,new Set(G.keys()),S),k(f,S)),ie.state){case"hasValue":return ie.contents;case"hasError":throw ie.contents;case"loading":throw re.loadingDepKey=fe,re.loadingDepPromise=ie.contents,ie.contents}throw $("Invalid Loadable state")}const Ce=fe=>(...ie)=>{if(A)throw $("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return t==null&&Ye(!1),$u(f,fe,ie,{node:t})};try{T=r({get:oe,getCallback:Ce}),T=xu(T)?oe(T):T,Cu(T)&&(T.state==="hasError"&&(K=!0),T=T.contents),Q(T)?T=W(f,T,g,G,S,re).finally(P):P(),T=T instanceof Mo?T.value:T}catch(fe){T=fe,Q(T)?T=I(f,T,g,G,S,re).finally(P):(K=!0,P())}return K?X=bt(T):Q(T)?X=Au(T):X=un(T),x=!1,Be(f,S,G),j(f,g,new Set(G.keys()),S),[X,G]}function F(f,g){let S=g.atomValues.get(n);if(S!=null)return S;const x=new Set;try{S=l.get(P=>(typeof P!="string"&&Ye(!1),St(f,g,P).contents),{onNodeVisit:P=>{P.type==="branch"&&P.nodeKey!==n&&x.add(P.nodeKey)}})}catch(P){throw $(`Problem with cache lookup for selector "${n}": ${P.message}`)}if(S){var A;g.atomValues.set(n,S),j(f,g,x,(A=ee(f))===null||A===void 0?void 0:A.executionID)}return S}function Z(f,g){const S=F(f,g);if(S!=null)return ge(f),S;const x=U(f,g);if(x!=null){var A;return((A=x.loadingLoadable)===null||A===void 0?void 0:A.state)==="loading"&&B(f,x.executionID),x.loadingLoadable}const P=Iu(),[T,K]=z(f,g,P);return T.state==="loading"?(De(f,P,T,K,g),B(f,P)):(ge(f),lt(g,T,K)),T}function U(f,g){const S=po([d.has(f)?[Y(d.get(f))]:[],Ut(Dn(d,([A])=>A!==f),([,A])=>A)]);function x(A){for(const[P,T]of A)if(!St(f,g,P).is(T))return!0;return!1}for(const A of S){if(A.stateVersions.get(g.version)||!x(A.depValuesDiscoveredSoFarDuringAsyncWork))return A.stateVersions.set(g.version,!0),A;A.stateVersions.set(g.version,!1)}}function ee(f){return d.get(f)}function De(f,g,S,x,A){d.set(f,{depValuesDiscoveredSoFarDuringAsyncWork:x,executionID:g,loadingLoadable:S,stateVersions:new Map([[A.version,!0]])})}function Be(f,g,S){if(Re(f,g)){const x=ee(f);x!=null&&(x.depValuesDiscoveredSoFarDuringAsyncWork=S)}}function ge(f){d.delete(f)}function Re(f,g){var S;return g===((S=ee(f))===null||S===void 0?void 0:S.executionID)}function ct(f){return Array.from(f.entries()).map(([g,S])=>[g,S.contents])}function lt(f,g,S){f.atomValues.set(n,g);try{l.set(ct(S),g)}catch(x){throw $(`Problem with setting cache for selector "${n}": ${x.message}`)}}function $e(f){if(Ze.includes(n)){const g=`Recoil selector has circular dependencies: ${Ze.slice(Ze.indexOf(n)).join(" → ")}`;return bt($(g))}Ze.push(n);try{return f()}finally{Ze.pop()}}function ut(f,g){const S=g.atomValues.get(n);return S??l.get(x=>{var A;return typeof x!="string"&&Ye(!1),(A=Tu(f,g,x))===null||A===void 0?void 0:A.contents})}function dt(f,g){return $e(()=>Z(f,g))}function We(f){f.atomValues.delete(n)}function ft(f,g){t==null&&Ye(!1);for(const x of a){var S;const A=ku(x);(S=A.clearCache)===null||S===void 0||S.call(A,f,g)}a.clear(),We(g),l.clear(),wr(f,t)}return i!=null?t=Sr({key:n,nodeType:"selector",peek:ut,get:dt,set:(g,S,x)=>{let A=!1;const P=new Map;function T({key:G}){if(A)throw $("Recoil: Async selector sets are not currently supported.");const oe=St(g,S,G);if(oe.state==="hasValue")return oe.contents;if(oe.state==="loading"){const Ce=`Getting value of asynchronous atom or selector "${G}" in a pending state while setting selector "${n}" is not yet supported.`;throw ye(),$(Ce)}else throw oe.contents}function K(G,oe){if(A){const ie="Recoil: Async selector sets are not currently supported.";throw ye(),$(ie)}const Ce=typeof oe=="function"?oe(T(G)):oe;Nu(g,S,G.key,Ce).forEach((ie,ht)=>P.set(ht,ie))}function X(G){K(G,Mu)}const re=i({set:K,get:T,reset:X},x);if(re!==void 0)throw Q(re)?$("Recoil: Async selector sets are not currently supported."):$("Recoil: selector set should be a void function.");return A=!0,P},init:R,invalidate:We,clearCache:ft,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c}):t=Sr({key:n,nodeType:"selector",peek:ut,get:dt,init:R,invalidate:We,clearCache:ft,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})}ko.value=e=>new Mo(e);var kt=ko;const{isLoadable:Dd,loadableWithError:$d,loadableWithPromise:Id,loadableWithValue:Pd}=ot,{WrappedValue:Od}=To,{isRecoilValue:jd}=Me;class Pu{constructor(t){var n;V(this,"_map",void 0),V(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=t==null?void 0:t.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,n){this._map.set(this._keyMapper(t),n)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}}var Ou={MapCache:Pu},ju=Ou.MapCache,zu=Object.freeze({__proto__:null,MapCache:ju});const{LRUCache:Rr}=Lo,{MapCache:Uu}=zu,Rt={equality:"reference",eviction:"none",maxSize:1/0};function Fu({equality:e=Rt.equality,eviction:t=Rt.eviction,maxSize:n=Rt.maxSize}=Rt){const r=Bu(e);return Wu(t,n,r)}function Bu(e){switch(e){case"reference":return t=>t;case"value":return t=>jn(t)}throw $(`Unrecognized equality policy ${e}`)}function Wu(e,t,n){switch(e){case"keep-all":return new Uu({mapKey:n});case"lru":return new Rr({mapKey:n,maxSize:Y(t)});case"most-recent":return new Rr({mapKey:n,maxSize:1})}throw $(`Unrecognized eviction policy ${e}`)}var Ku=Fu;const{setConfigDeletionHandler:Gu}=me;let Hu=0;function qu(e){var t,n;const r=Ku({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return o=>{var i;let a;try{a=r.get(o)}catch(R){throw $(`Problem with cache lookup for selector ${e.key}: ${R.message}`)}if(a!=null)return a;const l=`${e.key}__selectorFamily/${(i=jn(o,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${Hu++}`,c=R=>e.get(o)(R),d=e.cachePolicy_UNSTABLE,h=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(o):e.retainedBy_UNSTABLE;let p;if(e.set!=null){const R=e.set;p=kt({key:l,get:c,set:(y,C)=>R(o)(y,C),cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:h})}else p=kt({key:l,get:c,cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:h});return r.set(o,p),Gu(p.key,()=>{r.delete(o)}),p}}var xe=qu;xe({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});xe({key:"__error",get:e=>()=>{throw $(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:xo,loadableWithPromise:Do,loadableWithValue:$o}=ot;function Gt(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[o,i]of t.entries())try{n[o]=e(i)}catch(a){r[o]=a}return[n,r]}function Zu(e){return e!=null&&!Q(e)}function Ht(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function Rn(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,r,o)=>({...n,[r]:t[o]}),{})}function Oe(e,t,n){const r=n.map((o,i)=>o==null?$o(t[i]):Q(o)?Do(o):xo(o));return Rn(e,r)}function Xu(e,t){return t.map((n,r)=>n===void 0?e[r]:n)}xe({key:"__waitForNone",get:e=>({get:t})=>{const n=Ht(e),[r,o]=Gt(t,n);return Oe(e,r,o)},dangerouslyAllowMutability:!0});xe({key:"__waitForAny",get:e=>({get:t})=>{const n=Ht(e),[r,o]=Gt(t,n);return o.some(i=>!Q(i))?Oe(e,r,o):new Promise(i=>{for(const[a,l]of o.entries())Q(l)&&l.then(c=>{r[a]=c,o[a]=void 0,i(Oe(e,r,o))}).catch(c=>{o[a]=c,i(Oe(e,r,o))})})},dangerouslyAllowMutability:!0});xe({key:"__waitForAll",get:e=>({get:t})=>{const n=Ht(e),[r,o]=Gt(t,n);if(o.every(a=>a==null))return Rn(e,r);const i=o.find(Zu);if(i!=null)throw i;return Promise.all(o).then(a=>Rn(e,Xu(r,a)))},dangerouslyAllowMutability:!0});xe({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Ht(e),[r,o]=Gt(t,n);return o.every(i=>!Q(i))?Oe(e,r,o):Promise.all(o.map((i,a)=>Q(i)?i.then(l=>{r[a]=l,o[a]=void 0}).catch(l=>{r[a]=void 0,o[a]=l}):null)).then(()=>Oe(e,r,o))},dangerouslyAllowMutability:!0});xe({key:"__noWait",get:e=>({get:t})=>{try{return kt.value($o(t(e)))}catch(n){return kt.value(Q(n)?Do(n):xo(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:zd}=ot,{RecoilRoot:Yu}=Ml,{isRecoilValue:Ud}=Me,{freshSnapshot:Fd}=Kt;var Ju={RecoilRoot:Yu},Qu=Ju.RecoilRoot;const{Title:ed,Paragraph:be,Text:se}=Zo,td=()=>{const[e,t]=Wn(Ri),[n,r]=Wn(Ei),o=wi(p=>p),i=gi(),{count:a,loading:l,increment:c,reset:d,error:h}=Ta();return E.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[E.jsx(ed,{level:2,children:"状态管理演示"}),E.jsx(Xo,{type:"info",message:"什么是状态管理？",description:"状态管理是前端应用中管理和维护应用状态的方法。在 React 生态中，有多种状态管理方案，如 Redux、Zustand、Jotai 等，它们各有特点，适用于不同的场景。",showIcon:!0,style:{marginBottom:"20px"}}),E.jsxs(Pe,{direction:"vertical",style:{width:"100%"},children:[E.jsx(vt,{title:"Jotai 状态管理",children:E.jsxs(Pe,{direction:"vertical",style:{width:"100%"},children:[E.jsxs("div",{className:"state-card",children:[E.jsxs(be,{children:[E.jsx(se,{strong:!0,children:"当前计数: "}),E.jsx(se,{children:e})]}),E.jsxs(Pe,{children:[E.jsx(_e,{onClick:()=>t(p=>p+1),children:"增加"}),E.jsx(_e,{onClick:()=>t(p=>p-1),children:"减少"}),E.jsx(_e,{onClick:()=>t(0),children:"重置"})]})]}),E.jsx(Kn,{}),E.jsxs("div",{className:"state-card",children:[E.jsxs(be,{children:[E.jsx(se,{strong:!0,children:"异步数据: "}),E.jsx(se,{children:n.loading?"加载中...":n.data||"无数据"})]}),n.error&&E.jsx(be,{className:"error-message",children:n.error}),E.jsx(_e,{onClick:()=>r(),disabled:n.loading,type:"primary",children:"获取异步数据"})]})]})}),E.jsx(vt,{title:"Redux 状态管理",children:E.jsxs(Pe,{direction:"vertical",style:{width:"100%"},children:[E.jsxs("div",{className:"state-card",children:[E.jsxs(be,{children:[E.jsx(se,{strong:!0,children:"当前计数: "}),E.jsx(se,{children:o.value})]}),E.jsxs(Pe,{children:[E.jsx(_e,{onClick:()=>i(ga()),children:"增加"}),E.jsx(_e,{onClick:()=>i(ba()),children:"减少"}),E.jsx(_e,{onClick:()=>i(Sa()),children:"重置"})]})]}),E.jsx(Kn,{}),E.jsxs("div",{className:"state-card",children:[E.jsxs(be,{children:[E.jsx(se,{strong:!0,children:"异步数据: "}),E.jsx(se,{children:o.loading?"加载中...":o.asyncData!==null?`${o.asyncData}`:"无数据"})]}),o.error&&E.jsx(be,{className:"error-message",children:o.error}),E.jsx(_e,{onClick:()=>i(Et()),disabled:o.loading,type:"primary",children:"获取异步数据"})]})]})}),E.jsx(vt,{title:"Zustand 状态管理",children:E.jsxs("div",{className:"state-card",children:[E.jsxs(be,{children:[E.jsx(se,{strong:!0,children:"当前数值: "}),E.jsx(se,{children:a.toFixed(2)})]}),h&&E.jsx(be,{className:"error-message",children:h}),E.jsxs(Pe,{children:[E.jsx(_e,{onClick:c,disabled:l,type:"primary",children:l?"加载中...":"生成随机数"}),E.jsx(_e,{onClick:d,children:"重置"})]})]})}),E.jsxs(vt,{title:"状态管理对比",children:[E.jsx(be,{children:E.jsx(se,{strong:!0,children:"三种状态管理的异步特点："})}),E.jsxs("ul",{className:"feature-list",children:[E.jsxs("li",{children:[E.jsx(se,{strong:!0,children:"Jotai: "}),"使用原子化方式处理异步，可以直接在原子中定义异步逻辑"]}),E.jsxs("li",{children:[E.jsx(se,{strong:!0,children:"Redux: "}),"使用 createAsyncThunk 处理异步，结合 extraReducers 处理不同状态"]}),E.jsxs("li",{children:[E.jsx(se,{strong:!0,children:"Zustand: "}),"直接在 store 中定义异步方法，使用简单直观"]})]})]})]})]})},Bd=()=>E.jsx(yi,{store:wa,children:E.jsx(Qu,{children:E.jsx(td,{})})});export{Bd as default};
