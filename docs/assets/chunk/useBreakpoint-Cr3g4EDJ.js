import{N as d,l,r as h,a4 as m}from"../../main-OXPBM_qZ.js";import{u as f}from"./useForceUpdate--dps8mAK.js";const x=["xxl","xl","lg","md","sm","xs"],$=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),b=n=>{const e=n,t=[].concat(x).reverse();return t.forEach((o,c)=>{const s=o.toUpperCase(),i=`screen${s}Min`,r=`screen${s}`;if(!(e[i]<=e[r]))throw new Error(`${i}<=${r} fails : !(${e[i]}<=${e[r]})`);if(c<t.length-1){const a=`screen${s}Max`;if(!(e[r]<=e[a]))throw new Error(`${r}<=${a} fails : !(${e[r]}<=${e[a]})`);const u=`screen${t[c+1].toUpperCase()}Min`;if(!(e[a]<=e[u]))throw new Error(`${a}<=${u} fails : !(${e[a]}<=${e[u]})`)}}),n},g=()=>{const[,n]=d(),e=$(b(n));return l.useMemo(()=>{const t=new Map;let o=-1,c={};return{responsiveMap:e,matchHandlers:{},dispatch(s){return c=s,t.forEach(i=>i(c)),t.size>=1},subscribe(s){return t.size||this.register(),o+=1,t.set(o,s),s(c),o},unsubscribe(s){t.delete(s),t.size||this.unregister()},register(){Object.keys(e).forEach(s=>{const i=e[s],r=p=>{let{matches:u}=p;this.dispatch(Object.assign(Object.assign({},c),{[s]:u}))},a=window.matchMedia(i);a.addListener(r),this.matchHandlers[i]={mql:a,listener:r},r(a)})},unregister(){Object.keys(e).forEach(s=>{const i=e[s],r=this.matchHandlers[i];r?.mql.removeListener(r?.listener)}),t.clear()}}},[n])};function w(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=h.useRef(e),o=f(),c=g();return m(()=>{const s=c.subscribe(i=>{t.current=i,n&&o()});return()=>c.unsubscribe(s)},[]),t.current}export{x as r,w as u};
