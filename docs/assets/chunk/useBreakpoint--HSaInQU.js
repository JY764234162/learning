import{N as l,l as d,c6 as h,c7 as x,r as $,a5 as f}from"../../main-CRe4Yinv.js";import{u as m}from"./useForceUpdate-j9ZvleN1.js";const b=["xxl","xl","lg","md","sm","xs"],M=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),v=n=>{const e=n,t=[].concat(b).reverse();return t.forEach((a,i)=>{const r=a.toUpperCase(),s=`screen${r}Min`,c=`screen${r}`;if(!(e[s]<=e[c]))throw new Error(`${s}<=${c} fails : !(${e[s]}<=${e[c]})`);if(i<t.length-1){const o=`screen${r}Max`;if(!(e[c]<=e[o]))throw new Error(`${c}<=${o} fails : !(${e[c]}<=${e[o]})`);const p=`screen${t[i+1].toUpperCase()}Min`;if(!(e[o]<=e[p]))throw new Error(`${o}<=${p} fails : !(${e[o]}<=${e[p]})`)}}),n},w=()=>{const[,n]=l(),e=M(v(n));return d.useMemo(()=>{const t=new Map;let a=-1,i={};return{responsiveMap:e,matchHandlers:{},dispatch(r){return i=r,t.forEach(s=>s(i)),t.size>=1},subscribe(r){return t.size||this.register(),a+=1,t.set(a,r),r(i),a},unsubscribe(r){t.delete(r),t.size||this.unregister()},register(){Object.entries(e).forEach(([r,s])=>{const c=({matches:u})=>{this.dispatch(Object.assign(Object.assign({},i),{[r]:u}))},o=window.matchMedia(s);x(o,c),this.matchHandlers[s]={mql:o,listener:c},c(o)})},unregister(){Object.values(e).forEach(r=>{const s=this.matchHandlers[r];h(s?.mql,s?.listener)}),t.clear()}}},[n])};function U(n=!0,e={}){const t=$.useRef(e),a=m(),i=w();return f(()=>{const r=i.subscribe(s=>{t.current=s,n&&a()});return()=>i.unsubscribe(r)},[]),t.current}export{b as r,U as u};
