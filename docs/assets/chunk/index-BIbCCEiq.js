import{bB as Wo,r as ae,l as q,bq as Ko,j as E,T as Go,B as ye}from"../../main-BlCRUK_t.js";import{a as wn,u as Fn}from"./react-B53_s5DP.js";import{A as Ho}from"./index-CKsG6O6H.js";import{S as Pe}from"./index-GBvwWiiJ.js";import{C as ht}from"./index-GOI5znzU.js";import{D as Bn}from"./index-0D0yq-9R.js";import"./ExclamationCircleFilled-CGcv2Jpt.js";import"./InfoCircleFilled-COxLlW03.js";var Xt={exports:{}},Yt={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wn;function qo(){if(Wn)return Yt;Wn=1;var e=Wo();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,u=e.useDebugValue;return Yt.useSyncExternalStoreWithSelector=function(c,d,h,p,R){var b=o(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=a(function(){function x(k){if(!z){if(z=!0,F=k,k=p(k),R!==void 0&&y.hasValue){var B=y.value;if(R(B,k))return T=B}return T=k}if(B=T,n(F,k))return B;var I=p(k);return R!==void 0&&R(B,I)?(F=k,B):(F=k,T=I)}var z=!1,F,T,j=h===void 0?null:h;return[function(){return x(d())},j===null?void 0:function(){return x(j())}]},[d,h,p,R]);var C=r(c,b[0],b[1]);return i(function(){y.hasValue=!0,y.value=C},[C]),u(C),C},Yt}var Kn;function Zo(){return Kn||(Kn=1,Xt.exports=qo()),Xt.exports}var Xo=Zo();function Yo(e){e()}function Jo(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Yo(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Gn={notify(){},get:()=>[]};function Qo(e,t){let n,r=Gn,o=0,i=!1;function a(C){h();const x=r.subscribe(C);let z=!1;return()=>{z||(z=!0,x(),p())}}function u(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return i}function h(){o++,n||(n=e.subscribe(c),r=Jo())}function p(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=Gn)}function R(){i||(i=!0,h())}function b(){i&&(i=!1,p())}const y={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:R,tryUnsubscribe:b,getListeners:()=>r};return y}var ei=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ti=ei(),ni=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ri=ni(),oi=()=>ti||ri?ae.useLayoutEffect:ae.useEffect,ii=oi(),ai=Symbol.for("react-redux-context"),si=typeof globalThis<"u"?globalThis:{};function ci(){if(!ae.createContext)return{};const e=si[ai]??=new Map;let t=e.get(ae.createContext);return t||(t=ae.createContext(null),e.set(ae.createContext,t)),t}var Ee=ci();function li(e){const{children:t,context:n,serverState:r,store:o}=e,i=ae.useMemo(()=>{const c=Qo(o);return{store:o,subscription:c,getServerState:r?()=>r:void 0}},[o,r]),a=ae.useMemo(()=>o.getState(),[o]);ii(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const u=n||Ee;return ae.createElement(u.Provider,{value:i},t)}var ui=li;function Rn(e=Ee){return function(){return ae.useContext(e)}}var Er=Rn();function Cr(e=Ee){const t=e===Ee?Er:Rn(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var di=Cr();function fi(e=Ee){const t=e===Ee?di:Cr(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var hi=fi(),pi=(e,t)=>e===t;function vi(e=Ee){const t=e===Ee?Er:Rn(e),n=(r,o={})=>{const{equalityFn:i=pi}=typeof o=="function"?{equalityFn:o}:o,a=t(),{store:u,subscription:c,getServerState:d}=a;ae.useRef(!0);const h=ae.useCallback({[r.name](R){return r(R)}}[r.name],[r]),p=Xo.useSyncExternalStoreWithSelector(c.addNestedSub,u.getState,d||u.getState,h,i);return ae.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var yi=vi();const _i=wn(0),pt=wn({data:null,loading:!1,error:null}),mi=wn(e=>e(pt),async(e,t)=>{t(pt,{data:null,loading:!0,error:null});try{await new Promise(r=>setTimeout(r,1e3));const n=`异步数据 ${Math.floor(Math.random()*1e3)}`;t(pt,{data:n,loading:!1,error:null})}catch{t(pt,{data:null,loading:!1,error:"获取数据失败"})}});function ee(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gi=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hn=gi,Jt=()=>Math.random().toString(36).substring(7).split("").join("."),bi={INIT:`@@redux/INIT${Jt()}`,REPLACE:`@@redux/REPLACE${Jt()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jt()}`},Et=bi;function En(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ar(e,t,n){if(typeof e!="function")throw new Error(ee(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ee(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ee(1));return n(Ar)(e,t)}let r=e,o=t,i=new Map,a=i,u=0,c=!1;function d(){a===i&&(a=new Map,i.forEach((x,z)=>{a.set(z,x)}))}function h(){if(c)throw new Error(ee(3));return o}function p(x){if(typeof x!="function")throw new Error(ee(4));if(c)throw new Error(ee(5));let z=!0;d();const F=u++;return a.set(F,x),function(){if(z){if(c)throw new Error(ee(6));z=!1,d(),a.delete(F),i=null}}}function R(x){if(!En(x))throw new Error(ee(7));if(typeof x.type>"u")throw new Error(ee(8));if(typeof x.type!="string")throw new Error(ee(17));if(c)throw new Error(ee(9));try{c=!0,o=r(o,x)}finally{c=!1}return(i=a).forEach(F=>{F()}),x}function b(x){if(typeof x!="function")throw new Error(ee(10));r=x,R({type:Et.REPLACE})}function y(){const x=p;return{subscribe(z){if(typeof z!="object"||z===null)throw new Error(ee(11));function F(){const j=z;j.next&&j.next(h())}return F(),{unsubscribe:x(F)}},[Hn](){return this}}}return R({type:Et.INIT}),{dispatch:R,subscribe:p,getState:h,replaceReducer:b,[Hn]:y}}function Si(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Et.INIT})>"u")throw new Error(ee(12));if(typeof n(void 0,{type:Et.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ee(13))})}function wi(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let o;try{Si(n)}catch(i){o=i}return function(a={},u){if(o)throw o;let c=!1;const d={};for(let h=0;h<r.length;h++){const p=r[h],R=n[p],b=a[p],y=R(b,u);if(typeof y>"u")throw u&&u.type,new Error(ee(14));d[p]=y,c=c||y!==b}return c=c||r.length!==Object.keys(a).length,c?d:a}}function Ct(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Ri(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(ee(15))};const a={getState:o.getState,dispatch:(c,...d)=>i(c,...d)},u=e.map(c=>c(a));return i=Ct(...u)(o.dispatch),{...o,dispatch:i}}}function Ei(e){return En(e)&&"type"in e&&typeof e.type=="string"}var Tr=Symbol.for("immer-nothing"),qn=Symbol.for("immer-draftable"),se=Symbol.for("immer-state");function pe(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var je=Object.getPrototypeOf;function Te(e){return!!e&&!!e[se]}function Se(e){return e?Nr(e)||Array.isArray(e)||!!e[qn]||!!e.constructor?.[qn]||xt(e)||kt(e):!1}var Ci=Object.prototype.constructor.toString();function Nr(e){if(!e||typeof e!="object")return!1;const t=je(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Ci}function At(e,t){Vt(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Vt(e){const t=e[se];return t?t.type_:Array.isArray(e)?1:xt(e)?2:kt(e)?3:0}function ln(e,t){return Vt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Lr(e,t,n){const r=Vt(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Ai(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xt(e){return e instanceof Map}function kt(e){return e instanceof Set}function Ae(e){return e.copy_||e.base_}function un(e,t){if(xt(e))return new Map(e);if(kt(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Nr(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[se];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const a=o[i],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[a]})}return Object.create(je(e),r)}else{const r=je(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Cn(e,t=!1){return Dt(e)||Te(e)||!Se(e)||(Vt(e)>1&&(e.set=e.add=e.clear=e.delete=Ti),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Cn(r,!0))),e}function Ti(){pe(2)}function Dt(e){return Object.isFrozen(e)}var Ni={};function Ne(e){const t=Ni[e];return t||pe(0,e),t}var Qe;function Mr(){return Qe}function Li(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Zn(e,t){t&&(Ne("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dn(e){fn(e),e.drafts_.forEach(Mi),e.drafts_=null}function fn(e){e===Qe&&(Qe=e.parent_)}function Xn(e){return Qe=Li(Qe,e)}function Mi(e){const t=e[se];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Yn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[se].modified_&&(dn(t),pe(4)),Se(e)&&(e=Tt(t,e),t.parent_||Nt(t,e)),t.patches_&&Ne("Patches").generateReplacementPatches_(n[se].base_,e,t.patches_,t.inversePatches_)):e=Tt(t,n,[]),dn(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Tr?e:void 0}function Tt(e,t,n){if(Dt(t))return t;const r=t[se];if(!r)return At(t,(o,i)=>Jn(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Nt(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,a=!1;r.type_===3&&(i=new Set(o),o.clear(),a=!0),At(i,(u,c)=>Jn(e,r,o,u,c,n,a)),Nt(e,o,!1),n&&e.patches_&&Ne("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Jn(e,t,n,r,o,i,a){if(Te(o)){const u=i&&t&&t.type_!==3&&!ln(t.assigned_,r)?i.concat(r):void 0,c=Tt(e,o,u);if(Lr(n,r,c),Te(c))e.canAutoFreeze_=!1;else return}else a&&n.add(o);if(Se(o)&&!Dt(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Tt(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Nt(e,o)}}function Nt(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cn(t,n)}function Vi(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Mr(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=An;n&&(o=[r],i=et);const{revoke:a,proxy:u}=Proxy.revocable(o,i);return r.draft_=u,r.revoke_=a,u}var An={get(e,t){if(t===se)return e;const n=Ae(e);if(!ln(n,t))return xi(e,n,t);const r=n[t];return e.finalized_||!Se(r)?r:r===Qt(e.base_,t)?(en(e),e.copy_[t]=pn(r,e)):r},has(e,t){return t in Ae(e)},ownKeys(e){return Reflect.ownKeys(Ae(e))},set(e,t,n){const r=Vr(Ae(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=Qt(Ae(e),t),i=o?.[se];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Ai(n,o)&&(n!==void 0||ln(e.base_,t)))return!0;en(e),hn(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Qt(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,en(e),hn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ae(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){pe(11)},getPrototypeOf(e){return je(e.base_)},setPrototypeOf(){pe(12)}},et={};At(An,(e,t)=>{et[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});et.deleteProperty=function(e,t){return et.set.call(this,e,t,void 0)};et.set=function(e,t,n){return An.set.call(this,e[0],t,n,e[0])};function Qt(e,t){const n=e[se];return(n?Ae(n):e)[t]}function xi(e,t,n){const r=Vr(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Vr(e,t){if(!(t in e))return;let n=je(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=je(n)}}function hn(e){e.modified_||(e.modified_=!0,e.parent_&&hn(e.parent_))}function en(e){e.copy_||(e.copy_=un(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ki=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const a=this;return function(c=i,...d){return a.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&pe(6),r!==void 0&&typeof r!="function"&&pe(7);let o;if(Se(t)){const i=Xn(this),a=pn(t,void 0);let u=!0;try{o=n(a),u=!1}finally{u?dn(i):fn(i)}return Zn(i,r),Yn(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Tr&&(o=void 0),this.autoFreeze_&&Cn(o,!0),r){const i=[],a=[];Ne("Patches").generateReplacementPatches_(t,o,i,a),r(i,a)}return o}else pe(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...u)=>this.produceWithPatches(a,c=>t(c,...u));let r,o;return[this.produce(t,n,(a,u)=>{r=a,o=u}),r,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Se(e)||pe(8),Te(e)&&(e=Di(e));const t=Xn(this),n=pn(e,void 0);return n[se].isManual_=!0,fn(t),n}finishDraft(e,t){const n=e&&e[se];(!n||!n.isManual_)&&pe(9);const{scope_:r}=n;return Zn(r,t),Yn(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Ne("Patches").applyPatches_;return Te(e)?r(e,t):this.produce(e,o=>r(o,t))}};function pn(e,t){const n=xt(e)?Ne("MapSet").proxyMap_(e,t):kt(e)?Ne("MapSet").proxySet_(e,t):Vi(e,t);return(t?t.scope_:Mr()).drafts_.push(n),n}function Di(e){return Te(e)||pe(10,e),xr(e)}function xr(e){if(!Se(e)||Dt(e))return e;const t=e[se];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=un(e,t.scope_.immer_.useStrictShallowCopy_)}else n=un(e,!0);return At(n,(r,o)=>{Lr(n,r,xr(o))}),t&&(t.finalized_=!1),n}var ce=new ki,kr=ce.produce;ce.produceWithPatches.bind(ce);ce.setAutoFreeze.bind(ce);ce.setUseStrictShallowCopy.bind(ce);ce.applyPatches.bind(ce);ce.createDraft.bind(ce);ce.finishDraft.bind(ce);function Dr(e){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,e):o(i)}var $i=Dr(),Ii=Dr,Pi=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ct:Ct.apply(null,arguments)},Oi=e=>e&&typeof e.match=="function";function Ye(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(be(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Ei(r)&&r.type===e,n}var $r=class Ze extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ze.prototype)}static get[Symbol.species](){return Ze}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ze(...t[0].concat(this)):new Ze(...t.concat(this))}};function Qn(e){return Se(e)?kr(e,()=>{}):e}function vt(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function ji(e){return typeof e=="boolean"}var zi=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let a=new $r;return n&&(ji(n)?a.push($i):a.push(Ii(n.extraArgument))),a},Ui="RTK_autoBatch",er=e=>t=>{setTimeout(t,e)},Fi=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,a=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:er(10):e.type==="callback"?e.queueNotification:er(e.timeout),d=()=>{a=!1,i&&(i=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>o&&h(),R=r.subscribe(p);return u.add(h),()=>{R(),u.delete(h)}},dispatch(h){try{return o=!h?.meta?.[Ui],i=!o,i&&(a||(a=!0,c(d))),r.dispatch(h)}finally{o=!0}}})},Bi=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new $r(e);return r&&o.push(Fi(typeof r=="object"?r:void 0)),o};function Wi(e){const t=zi(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(En(n))u=wi(n);else throw new Error(be(1));let c;typeof r=="function"?c=r(t):c=t();let d=Ct;o&&(d=Pi({trace:!1,...typeof o=="object"&&o}));const h=Ri(...c),p=Bi(h);let R=typeof a=="function"?a(p):p();const b=d(...R);return Ar(u,i,b)}function Ir(e){const t={},n=[];let r;const o={addCase(i,a){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(be(28));if(u in t)throw new Error(be(29));return t[u]=a,o},addMatcher(i,a){return n.push({matcher:i,reducer:a}),o},addDefaultCase(i){return r=i,o}};return e(o),[t,n,r]}function Ki(e){return typeof e=="function"}function Gi(e,t){let[n,r,o]=Ir(t),i;if(Ki(e))i=()=>Qn(e());else{const u=Qn(e);i=()=>u}function a(u=i(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[o]),d.reduce((h,p)=>{if(p)if(Te(h)){const b=p(h,c);return b===void 0?h:b}else{if(Se(h))return kr(h,R=>p(R,c));{const R=p(h,c);if(R===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return R}}return h},u)}return a.getInitialState=i,a}var Hi=(e,t)=>Oi(e)?e.match(t):e(t);function qi(...e){return t=>e.some(n=>Hi(n,t))}var Zi="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xi=(e=21)=>{let t="",n=e;for(;n--;)t+=Zi[Math.random()*64|0];return t},Yi=["name","message","stack","code"],tn=class{constructor(e,t){this.payload=e,this.meta=t}_type},tr=class{constructor(e,t){this.payload=e,this.meta=t}_type},Ji=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of Yi)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},nr="External signal was aborted",Qi=(()=>{function e(t,n,r){const o=Ye(t+"/fulfilled",(c,d,h,p)=>({payload:c,meta:{...p||{},arg:h,requestId:d,requestStatus:"fulfilled"}})),i=Ye(t+"/pending",(c,d,h)=>({payload:void 0,meta:{...h||{},arg:d,requestId:c,requestStatus:"pending"}})),a=Ye(t+"/rejected",(c,d,h,p,R)=>({payload:p,error:(r&&r.serializeError||Ji)(c||"Rejected"),meta:{...R||{},arg:h,requestId:d,rejectedWithValue:!!p,requestStatus:"rejected",aborted:c?.name==="AbortError",condition:c?.name==="ConditionError"}}));function u(c,{signal:d}={}){return(h,p,R)=>{const b=r?.idGenerator?r.idGenerator(c):Xi(),y=new AbortController;let C,x;function z(T){x=T,y.abort()}d&&(d.aborted?z(nr):d.addEventListener("abort",()=>z(nr),{once:!0}));const F=async function(){let T;try{let k=r?.condition?.(c,{getState:p,extra:R});if(ta(k)&&(k=await k),k===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const B=new Promise((I,W)=>{C=()=>{W({name:"AbortError",message:x||"Aborted"})},y.signal.addEventListener("abort",C)});h(i(b,c,r?.getPendingMeta?.({requestId:b,arg:c},{getState:p,extra:R}))),T=await Promise.race([B,Promise.resolve(n(c,{dispatch:h,getState:p,extra:R,requestId:b,signal:y.signal,abort:z,rejectWithValue:(I,W)=>new tn(I,W),fulfillWithValue:(I,W)=>new tr(I,W)})).then(I=>{if(I instanceof tn)throw I;return I instanceof tr?o(I.payload,b,c,I.meta):o(I,b,c)})])}catch(k){T=k instanceof tn?a(null,b,c,k.payload,k.meta):a(k,b,c)}finally{C&&y.signal.removeEventListener("abort",C)}return r&&!r.dispatchConditionRejection&&a.match(T)&&T.meta.condition||h(T),T}();return Object.assign(F,{abort:z,requestId:b,arg:c,unwrap(){return F.then(ea)}})}}return Object.assign(u,{pending:i,rejected:a,fulfilled:o,settled:qi(a,o),typePrefix:t})}return e.withTypes=()=>e,e})();function ea(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function ta(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var na=Symbol.for("rtk-slice-createasyncthunk");function ra(e,t){return`${e}/${t}`}function oa({creators:e}={}){const t=e?.asyncThunk?.[na];return function(r){const{name:o,reducerPath:i=o}=r;if(!o)throw new Error(be(11));const a=(typeof r.reducers=="function"?r.reducers(sa()):r.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(T,j){const k=typeof T=="string"?T:T.type;if(!k)throw new Error(be(12));if(k in c.sliceCaseReducersByType)throw new Error(be(13));return c.sliceCaseReducersByType[k]=j,d},addMatcher(T,j){return c.sliceMatchers.push({matcher:T,reducer:j}),d},exposeAction(T,j){return c.actionCreators[T]=j,d},exposeCaseReducer(T,j){return c.sliceCaseReducersByName[T]=j,d}};u.forEach(T=>{const j=a[T],k={reducerName:T,type:ra(o,T),createNotation:typeof r.reducers=="function"};la(j)?da(k,j,d,t):ca(k,j,d)});function h(){const[T={},j=[],k=void 0]=typeof r.extraReducers=="function"?Ir(r.extraReducers):[r.extraReducers],B={...T,...c.sliceCaseReducersByType};return Gi(r.initialState,I=>{for(let W in B)I.addCase(W,B[W]);for(let W of c.sliceMatchers)I.addMatcher(W.matcher,W.reducer);for(let W of j)I.addMatcher(W.matcher,W.reducer);k&&I.addDefaultCase(k)})}const p=T=>T,R=new Map,b=new WeakMap;let y;function C(T,j){return y||(y=h()),y(T,j)}function x(){return y||(y=h()),y.getInitialState()}function z(T,j=!1){function k(I){let W=I[T];return typeof W>"u"&&j&&(W=vt(b,k,x)),W}function B(I=p){const W=vt(R,j,()=>new WeakMap);return vt(W,I,()=>{const we={};for(const[ue,De]of Object.entries(r.selectors??{}))we[ue]=ia(De,I,()=>vt(b,I,x),j);return we})}return{reducerPath:T,getSelectors:B,get selectors(){return B(k)},selectSlice:k}}const F={name:o,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...z(i),injectInto(T,{reducerPath:j,...k}={}){const B=j??i;return T.inject({reducerPath:B,reducer:C},k),{...F,...z(B,!0)}}};return F}}function ia(e,t,n,r){function o(i,...a){let u=t(i);return typeof u>"u"&&r&&(u=n()),e(u,...a)}return o.unwrapped=e,o}var aa=oa();function sa(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function ca({type:e,reducerName:t,createNotation:n},r,o){let i,a;if("reducer"in r){if(n&&!ua(r))throw new Error(be(17));i=r.reducer,a=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Ye(e,a):Ye(e))}function la(e){return e._reducerDefinitionType==="asyncThunk"}function ua(e){return e._reducerDefinitionType==="reducerWithPrepare"}function da({type:e,reducerName:t},n,r,o){if(!o)throw new Error(be(18));const{payloadCreator:i,fulfilled:a,pending:u,rejected:c,settled:d,options:h}=n,p=o(e,i,h);r.exposeAction(t,p),a&&r.addCase(p.fulfilled,a),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),d&&r.addMatcher(p.settled,d),r.exposeCaseReducer(t,{fulfilled:a||yt,pending:u||yt,rejected:c||yt,settled:d||yt})}function yt(){}function be(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const fa={value:0,asyncData:null,loading:!1,error:null},wt=Qi("counter/fetchRandomData",async(e,{rejectWithValue:t})=>{try{return await new Promise(n=>setTimeout(n,1500)),Math.floor(Math.random()*100)}catch{return t("获取数据失败")}}),Pr=aa({name:"counter",initialState:fa,reducers:{incremented:e=>{e.value+=1},decremented:e=>{e.value-=1},reset:e=>{e.value=0}},extraReducers:e=>{e.addCase(wt.pending,t=>{t.loading=!0,t.error=null}).addCase(wt.fulfilled,(t,n)=>{t.loading=!1,t.asyncData=n.payload}).addCase(wt.rejected,(t,n)=>{t.loading=!1,t.error=n.payload||"获取数据失败"})}}),{incremented:ha,decremented:pa,reset:va}=Pr.actions,ya=Wi({reducer:Pr.reducer}),rr=e=>{let t;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const R=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(b=>b(t,R))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(r,o,u);return u},_a=e=>e?rr(e):rr,ma=e=>e;function ga(e,t=ma){const n=q.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return q.useDebugValue(n),n}const or=e=>{const t=_a(e),n=r=>ga(t,r);return Object.assign(n,t),n},ba=e=>e?or(e):or,Sa=ba(e=>({count:0,loading:!1,error:null,increment:async()=>{try{e({loading:!0,error:null}),await new Promise(t=>setTimeout(t,500)),e({count:Math.random()*100,loading:!1})}catch(t){e({loading:!1,error:t instanceof Error?t.message:"未知错误"})}},reset:()=>e({count:0,error:null})}));var Or={};function wa(e){const t=new Error(e);if(t.stack===void 0)try{throw t}catch{}return t}var Ra=wa,O=Ra;function Ea(e){return!!e&&typeof e.then=="function"}var J=Ea;function Ca(e,t){if(e!=null)return e;throw O(t??"Got unexpected null or undefined")}var X=Ca;function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $t{getValue(){throw O("BaseLoadable")}toPromise(){throw O("BaseLoadable")}valueMaybe(){throw O("BaseLoadable")}valueOrThrow(){throw O(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw O("BaseLoadable")}promiseOrThrow(){throw O(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw O("BaseLoadable")}errorOrThrow(){throw O(`Loadable expected error, but in "${this.state}" state`)}is(t){return t.state===this.state&&t.contents===this.contents}map(t){throw O("BaseLoadable")}}class Aa extends $t{constructor(t){super(),D(this,"state","hasValue"),D(this,"contents",void 0),this.contents=t}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(t){try{const n=t(this.contents);return J(n)?Le(n):ze(n)?n:tt(n)}catch(n){return J(n)?Le(n.next(()=>this.map(t))):It(n)}}}class Ta extends $t{constructor(t){super(),D(this,"state","hasError"),D(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(t){return this}}class jr extends $t{constructor(t){super(),D(this,"state","loading"),D(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(t){return Le(this.contents.then(n=>{const r=t(n);if(ze(r)){const o=r;switch(o.state){case"hasValue":return o.contents;case"hasError":throw o.contents;case"loading":return o.contents}}return r}).catch(n=>{if(J(n))return n.then(()=>this.map(t).contents);throw n}))}}function tt(e){return Object.freeze(new Aa(e))}function It(e){return Object.freeze(new Ta(e))}function Le(e){return Object.freeze(new jr(e))}function zr(){return Object.freeze(new jr(new Promise(()=>{})))}function Na(e){return e.every(t=>t.state==="hasValue")?tt(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?It(X(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Le(Promise.all(e.map(t=>t.contents)))}function Ur(e){const n=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(o=>e[o])).map(o=>ze(o)?o:J(o)?Le(o):tt(o)),r=Na(n);return Array.isArray(e)?r:r.map(o=>Object.getOwnPropertyNames(e).reduce((i,a,u)=>({...i,[a]:o[u]}),{}))}function ze(e){return e instanceof $t}const La={of:e=>J(e)?Le(e):ze(e)?e:tt(e),error:e=>It(e),loading:()=>zr(),all:Ur,isLoadable:ze};var Ve={loadableWithValue:tt,loadableWithError:It,loadableWithPromise:Le,loadableLoading:zr,loadableAll:Ur,isLoadable:ze,RecoilLoadable:La},Ma=Ve.loadableWithValue,Va=Ve.loadableWithError,xa=Ve.loadableWithPromise,ka=Ve.loadableLoading,Da=Ve.loadableAll,$a=Ve.isLoadable,Ia=Ve.RecoilLoadable,nt=Object.freeze({__proto__:null,loadableWithValue:Ma,loadableWithError:Va,loadableWithPromise:xa,loadableLoading:ka,loadableAll:Da,isLoadable:$a,RecoilLoadable:Ia});const vn={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function Pa(e,t){var n,r;const o=(n=Or[e])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(o==null||o==="")return;if(!["true","false"].includes(o))throw O(`process.env.${e} value must be 'true', 'false', or empty: ${o}`);t(o==="true")}function Oa(e,t){var n;const r=(n=Or[e])===null||n===void 0?void 0:n.trim();r==null||r===""||t(r.split(/\s*,\s*|\s+/))}function ja(){var e;typeof process>"u"||((e=process)===null||e===void 0?void 0:e.env)!=null&&(Pa("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",t=>{vn.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=t}),Oa("RECOIL_GKS_ENABLED",t=>{t.forEach(n=>{vn.RECOIL_GKS_ENABLED.add(n)})}))}ja();var rt=vn;function Pt(e){return rt.RECOIL_GKS_ENABLED.has(e)}Pt.setPass=e=>{rt.RECOIL_GKS_ENABLED.add(e)};Pt.setFail=e=>{rt.RECOIL_GKS_ENABLED.delete(e)};Pt.clear=()=>{rt.RECOIL_GKS_ENABLED.clear()};var Y=Pt;function za(e,t,{error:n}={}){return null}var Ua=za,ve=Ua,nn,rn,on;const Fa=(nn=q.createMutableSource)!==null&&nn!==void 0?nn:q.unstable_createMutableSource,Ba=(rn=q.useMutableSource)!==null&&rn!==void 0?rn:q.unstable_useMutableSource,Wa=(on=q.useSyncExternalStore)!==null&&on!==void 0?on:q.unstable_useSyncExternalStore;function Ka(){return Y("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Y("recoil_sync_external_store")&&Wa!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Y("recoil_mutable_source")&&Ba!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Y("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Y("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}var Ga={createMutableSource:Fa,reactMode:Ka};class Tn{constructor(t){D(this,"key",void 0),this.key=t}toJSON(){return{key:this.key}}}class Fr extends Tn{}class Br extends Tn{}function Ha(e){return e instanceof Fr||e instanceof Br}var Ot={AbstractRecoilValue:Tn,RecoilState:Fr,RecoilValueReadOnly:Br,isRecoilValue:Ha},qa=Ot.AbstractRecoilValue,Za=Ot.RecoilState,Xa=Ot.RecoilValueReadOnly,Ya=Ot.isRecoilValue,Me=Object.freeze({__proto__:null,AbstractRecoilValue:qa,RecoilState:Za,RecoilValueReadOnly:Xa,isRecoilValue:Ya});function Ja(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()}var jt=Ja;class Wr{}const Qa=new Wr,Ue=new Map,Nn=new Map;function es(e){return jt(e,t=>X(Nn.get(t)))}function ts(e){if(Ue.has(e)){const t=`Duplicate atom key "${e}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(t)}}function ns(e){rt.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&ts(e.key),Ue.set(e.key,e);const t=e.set==null?new Me.RecoilValueReadOnly(e.key):new Me.RecoilState(e.key);return Nn.set(e.key,t),t}class rs extends Error{}function os(e){const t=Ue.get(e);if(t==null)throw new rs(`Missing definition for RecoilValue: "${e}""`);return t}function is(e){return Ue.get(e)}const Lt=new Map;function as(e){var t;if(!Y("recoil_memory_managament_2020"))return;const n=Ue.get(e);if(n!=null&&(t=n.shouldDeleteConfigOnRelease)!==null&&t!==void 0&&t.call(n)){var r;Ue.delete(e),(r=Kr(e))===null||r===void 0||r(),Lt.delete(e)}}function ss(e,t){Y("recoil_memory_managament_2020")&&(t===void 0?Lt.delete(e):Lt.set(e,t))}function Kr(e){return Lt.get(e)}var _e={recoilValues:Nn,registerNode:ns,getNode:os,getNodeMaybe:is,deleteNodeConfigIfPossible:as,setConfigDeletionHandler:ss,getConfigDeletionHandler:Kr,recoilValuesForKeys:es,DefaultValue:Wr,DEFAULT_VALUE:Qa};function cs(e,t){t()}var ls={enqueueExecution:cs};function us(e,t){return t={exports:{}},e(t,t.exports),t.exports}var ds=us(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},n={},r=5,o=Math.pow(2,r),i=o-1,a=o/2,u=o/4,c={},d=function(s){return function(){return s}},h=n.hash=function(l){var s=typeof l>"u"?"undefined":t(l);if(s==="number")return l;s!=="string"&&(l+="");for(var v=0,_=0,m=l.length;_<m;++_){var w=l.charCodeAt(_);v=(v<<5)-v+w|0}return v},p=function(s){return s-=s>>1&1431655765,s=(s&858993459)+(s>>2&858993459),s=s+(s>>4)&252645135,s+=s>>8,s+=s>>16,s&127},R=function(s,v){return v>>>s&i},b=function(s){return 1<<s},y=function(s,v){return p(s&v-1)},C=function(s,v,_,m){var w=m;if(!s){var V=m.length;w=new Array(V);for(var L=0;L<V;++L)w[L]=m[L]}return w[v]=_,w},x=function(s,v,_){var m=_.length-1,w=0,V=0,L=_;if(s)w=V=v;else for(L=new Array(m);w<v;)L[V++]=_[w++];for(++w;w<=m;)L[V++]=_[w++];return s&&(L.length=m),L},z=function(s,v,_,m){var w=m.length;if(s){for(var V=w;V>=v;)m[V--]=m[V];return m[v]=_,m}for(var L=0,M=0,P=new Array(w+1);L<v;)P[M++]=m[L++];for(P[v]=_;L<w;)P[++M]=m[L++];return P},F=1,T=2,j=3,k=4,B={__hamt_isEmpty:!0},I=function(s){return s===B||s&&s.__hamt_isEmpty},W=function(s,v,_,m){return{type:F,edit:s,hash:v,key:_,value:m,_modify:ct}},we=function(s,v,_){return{type:T,edit:s,hash:v,children:_,_modify:lt}},ue=function(s,v,_){return{type:j,edit:s,mask:v,children:_,_modify:Be}},De=function(s,v,_){return{type:k,edit:s,size:v,children:_,_modify:ut}},Gt=function(s){return s===B||s.type===F||s.type===T},me=function(s,v,_,m,w){for(var V=[],L=m,M=0,P=0;L;++P)L&1&&(V[P]=w[M++]),L>>>=1;return V[v]=_,De(s,M+1,V)},Re=function(s,v,_,m){for(var w=new Array(v-1),V=0,L=0,M=0,P=m.length;M<P;++M)if(M!==_){var H=m[M];H&&!I(H)&&(w[V++]=H,L|=1<<M)}return ue(s,L,w)},at=function l(s,v,_,m,w,V){if(_===w)return we(s,_,[V,m]);var L=R(v,_),M=R(v,w);return ue(s,b(L)|b(M),L===M?[l(s,v+r,_,m,w,V)]:L<M?[m,V]:[V,m])},st=function(s,v,_,m,w,V,L,M){for(var P=w.length,H=0;H<P;++H){var oe=w[H];if(_(L,oe.key)){var Q=oe.value,le=V(Q);return le===Q?w:le===c?(--M.value,x(s,H,w)):C(s,H,W(v,m,L,le),w)}}var fe=V();return fe===c?w:(++M.value,C(s,P,W(v,m,L,fe),w))},$e=function(s,v){return s===v.edit},ct=function(s,v,_,m,w,V,L){if(v(V,this.key)){var M=m(this.value);return M===this.value?this:M===c?(--L.value,B):$e(s,this)?(this.value=M,this):W(s,w,V,M)}var P=m();return P===c?this:(++L.value,at(s,_,this.hash,this,w,W(s,w,V,P)))},lt=function(s,v,_,m,w,V,L){if(w===this.hash){var M=$e(s,this),P=st(M,s,v,this.hash,this.children,m,V,L);return P===this.children?this:P.length>1?we(s,this.hash,P):P[0]}var H=m();return H===c?this:(++L.value,at(s,_,this.hash,this,w,W(s,w,V,H)))},Be=function(s,v,_,m,w,V,L){var M=this.mask,P=this.children,H=R(_,w),oe=b(H),Q=y(M,oe),le=M&oe,fe=le?P[Q]:B,Ie=fe._modify(s,v,_+r,m,w,V,L);if(fe===Ie)return this;var ft=$e(s,this),We=M,Ke=void 0;if(le&&I(Ie)){if(We&=~oe,!We)return B;if(P.length<=2&&Gt(P[Q^1]))return P[Q^1];Ke=x(ft,Q,P)}else if(!le&&!I(Ie)){if(P.length>=a)return me(s,H,Ie,M,P);We|=oe,Ke=z(ft,Q,Ie,P)}else Ke=C(ft,Q,Ie,P);return ft?(this.mask=We,this.children=Ke,this):ue(s,We,Ke)},ut=function(s,v,_,m,w,V,L){var M=this.size,P=this.children,H=R(_,w),oe=P[H],Q=(oe||B)._modify(s,v,_+r,m,w,V,L);if(oe===Q)return this;var le=$e(s,this),fe=void 0;if(I(oe)&&!I(Q))++M,fe=C(le,H,Q,P);else if(!I(oe)&&I(Q)){if(--M,M<=u)return Re(s,M,H,P);fe=C(le,H,B,P)}else fe=C(le,H,Q,P);return le?(this.size=M,this.children=fe,this):De(s,M,fe)};B._modify=function(l,s,v,_,m,w,V){var L=_();return L===c?B:(++V.value,W(l,m,w,L))};function f(l,s,v,_,m){this._editable=l,this._edit=s,this._config=v,this._root=_,this._size=m}f.prototype.setTree=function(l,s){return this._editable?(this._root=l,this._size=s,this):l===this._root?this:new f(this._editable,this._edit,this._config,l,s)};var g=n.tryGetHash=function(l,s,v,_){for(var m=_._root,w=0,V=_._config.keyEq;;)switch(m.type){case F:return V(v,m.key)?m.value:l;case T:{if(s===m.hash)for(var L=m.children,M=0,P=L.length;M<P;++M){var H=L[M];if(V(v,H.key))return H.value}return l}case j:{var oe=R(w,s),Q=b(oe);if(m.mask&Q){m=m.children[y(m.mask,Q)],w+=r;break}return l}case k:{if(m=m.children[R(w,s)],m){w+=r;break}return l}default:return l}};f.prototype.tryGetHash=function(l,s,v){return g(l,s,v,this)};var S=n.tryGet=function(l,s,v){return g(l,v._config.hash(s),s,v)};f.prototype.tryGet=function(l,s){return S(l,s,this)};var $=n.getHash=function(l,s,v){return g(void 0,l,s,v)};f.prototype.getHash=function(l,s){return $(l,s,this)},n.get=function(l,s){return g(void 0,s._config.hash(l),l,s)},f.prototype.get=function(l,s){return S(s,l,this)};var A=n.has=function(l,s,v){return g(c,l,s,v)!==c};f.prototype.hasHash=function(l,s){return A(l,s,this)};var U=n.has=function(l,s){return A(s._config.hash(l),l,s)};f.prototype.has=function(l){return U(l,this)};var N=function(s,v){return s===v};n.make=function(l){return new f(0,0,{keyEq:l&&l.keyEq||N,hash:l&&l.hash||h},B,0)},n.empty=n.make();var K=n.isEmpty=function(l){return l&&!!I(l._root)};f.prototype.isEmpty=function(){return K(this)};var Z=n.modifyHash=function(l,s,v,_){var m={value:_._size},w=_._root._modify(_._editable?_._edit:NaN,_._config.keyEq,0,l,s,v,m);return _.setTree(w,m.value)};f.prototype.modifyHash=function(l,s,v){return Z(v,l,s,this)};var te=n.modify=function(l,s,v){return Z(l,v._config.hash(s),s,v)};f.prototype.modify=function(l,s){return te(s,l,this)};var G=n.setHash=function(l,s,v,_){return Z(d(v),l,s,_)};f.prototype.setHash=function(l,s,v){return G(l,s,v,this)};var ne=n.set=function(l,s,v){return G(v._config.hash(l),l,s,v)};f.prototype.set=function(l,s){return ne(l,s,this)};var Ce=d(c),de=n.removeHash=function(l,s,v){return Z(Ce,l,s,v)};f.prototype.removeHash=f.prototype.deleteHash=function(l,s){return de(l,s,this)};var re=n.remove=function(l,s){return de(s._config.hash(l),l,s)};f.prototype.remove=f.prototype.delete=function(l){return re(l,this)};var dt=n.beginMutation=function(l){return new f(l._editable+1,l._edit+1,l._config,l._root,l._size)};f.prototype.beginMutation=function(){return dt(this)};var On=n.endMutation=function(l){return l._editable=l._editable&&l._editable-1,l};f.prototype.endMutation=function(){return On(this)};var Do=n.mutate=function(l,s){var v=dt(s);return l(v),On(v)};f.prototype.mutate=function(l){return Do(l,this)};var Ht=function(s){return s&&jn(s[0],s[1],s[2],s[3],s[4])},jn=function(s,v,_,m,w){for(;_<s;){var V=v[_++];if(V&&!I(V))return zn(V,m,[s,v,_,m,w])}return Ht(w)},zn=function(s,v,_){switch(s.type){case F:return{value:v(s),rest:_};case T:case k:case j:var m=s.children;return jn(m.length,m,0,v,_);default:return Ht(_)}},$o={done:!0};function qt(l){this.v=l}qt.prototype.next=function(){if(!this.v)return $o;var l=this.v;return this.v=Ht(l.rest),l},qt.prototype[Symbol.iterator]=function(){return this};var Zt=function(s,v){return new qt(zn(s._root,v))},Io=function(s){return[s.key,s.value]},Po=n.entries=function(l){return Zt(l,Io)};f.prototype.entries=f.prototype[Symbol.iterator]=function(){return Po(this)};var Oo=function(s){return s.key},jo=n.keys=function(l){return Zt(l,Oo)};f.prototype.keys=function(){return jo(this)};var zo=function(s){return s.value},Uo=n.values=f.prototype.values=function(l){return Zt(l,zo)};f.prototype.values=function(){return Uo(this)};var Un=n.fold=function(l,s,v){var _=v._root;if(_.type===F)return l(s,_.value,_.key);for(var m=[_.children],w=void 0;w=m.pop();)for(var V=0,L=w.length;V<L;){var M=w[V++];M&&M.type&&(M.type===F?s=l(s,M.value,M.key):m.push(M.children))}return s};f.prototype.fold=function(l,s){return Un(l,s,this)};var Fo=n.forEach=function(l,s){return Un(function(v,_,m){return l(_,m,s)},null,s)};f.prototype.forEach=function(l){return Fo(l,this)};var Bo=n.count=function(l){return l._size};f.prototype.count=function(){return Bo(this)},Object.defineProperty(f.prototype,"size",{get:f.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n});class fs{constructor(t){D(this,"_map",void 0),this._map=new Map(t?.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,n){return this._map.set(t,n),this}delete(t){return this._map.delete(t),this}clone(){return Mn(this)}toMap(){return new Map(this._map)}}class Ln{constructor(t){if(D(this,"_hamt",ds.empty.beginMutation()),t instanceof Ln){const n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t)for(const[n,r]of t.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,n){return this._hamt.set(t,n),this}delete(t){return this._hamt.delete(t),this}clone(){return Mn(this)}toMap(){return new Map(this._hamt)}}function Mn(e){return Y("recoil_hamt_2020")?new Ln(e):new fs(e)}var hs={persistentMap:Mn},ps=hs.persistentMap,vs=Object.freeze({__proto__:null,persistentMap:ps});function ys(e,...t){const n=new Set;e:for(const r of e){for(const o of t)if(o.has(r))continue e;n.add(r)}return n}var ir=ys;function _s(e,t){const n=new Map;return e.forEach((r,o)=>{n.set(o,t(r,o))}),n}var ar=_s;function ms(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function gs(e){return{nodeDeps:ar(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:ar(e.nodeToNodeSubscriptions,t=>new Set(t))}}function an(e,t,n,r){const{nodeDeps:o,nodeToNodeSubscriptions:i}=n,a=o.get(e);if(a&&r&&a!==r.nodeDeps.get(e))return;o.set(e,t);const u=a==null?t:ir(t,a);for(const c of u)i.has(c)||i.set(c,new Set),X(i.get(c)).add(e);if(a){const c=ir(a,t);for(const d of c){if(!i.has(d))return;const h=X(i.get(d));h.delete(e),h.size===0&&i.delete(d)}}}function bs(e,t,n,r){var o,i,a,u;const c=n.getState();r===c.currentTree.version||r===((o=c.nextTree)===null||o===void 0?void 0:o.version)||r===((i=c.previousTree)===null||i===void 0?void 0:i.version)||ve();const d=n.getGraph(r);if(an(e,t,d),r===((a=c.previousTree)===null||a===void 0?void 0:a.version)){const p=n.getGraph(c.currentTree.version);an(e,t,p,d)}if(r===((u=c.previousTree)===null||u===void 0?void 0:u.version)||r===c.currentTree.version){var h;const p=(h=c.nextTree)===null||h===void 0?void 0:h.version;if(p!==void 0){const R=n.getGraph(p);an(e,t,R,d)}}}var ot={cloneGraph:gs,graph:ms,saveDepsToStore:bs};let Ss=0;const ws=()=>Ss++;let Rs=0;const Es=()=>Rs++;var Vn={getNextTreeStateVersion:ws,getNextStoreID:Es};const{persistentMap:sr}=vs,{graph:Cs}=ot,{getNextTreeStateVersion:Gr}=Vn;function As(){const e=Gr();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:sr(),nonvalidatedAtoms:sr()}}function Ts(){const e=As();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,Cs()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Hr={makeEmptyStoreState:Ts,getNextTreeStateVersion:Gr};class Ns{}var qr={RetentionZone:Ns};function Ls(e,t){const n=new Set(e);return n.add(t),n}var Ms={setByAddingToSet:Ls};function*Vs(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)}var xn=Vs;function xs(e,t){return new Proxy(e,{get:(r,o)=>(!(o in r)&&o in t&&(r[o]=t[o]()),r[o]),ownKeys:r=>Object.keys(r)})}var Zr=xs;const{getNode:it,getNodeMaybe:ks,recoilValuesForKeys:cr}=_e,{RetentionZone:lr}=qr,{setByAddingToSet:Ds}=Ms,$s=Object.freeze(new Set);class Is extends Error{}function Ps(e,t,n){if(!Y("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function o(i){let a=r.get(i);a||r.set(i,a=new Set),a.add(t)}if(n instanceof lr)o(n);else if(Array.isArray(n))for(const i of n)o(i);return()=>{if(!Y("recoil_memory_managament_2020"))return;const{retention:i}=e.getState();function a(u){const c=i.nodesRetainedByZone.get(u);c?.delete(t),c&&c.size===0&&i.nodesRetainedByZone.delete(u)}if(n instanceof lr)a(n);else if(Array.isArray(n))for(const u of n)a(u)}}function kn(e,t,n,r){const o=e.getState();if(o.nodeCleanupFunctions.has(n))return;const i=it(n),a=Ps(e,n,i.retainedBy),u=i.init(e,t,r);o.nodeCleanupFunctions.set(n,()=>{u(),a()})}function Os(e,t,n){kn(e,e.getState().currentTree,t,n)}function js(e,t){var n;const r=e.getState();(n=r.nodeCleanupFunctions.get(t))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(t)}function zs(e,t,n){return kn(e,t,n,"get"),it(n).get(e,t)}function Xr(e,t,n){return it(n).peek(e,t)}function Us(e,t,n){var r;const o=ks(t);return o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Ds(e.dirtyAtoms,t)}}function Fs(e,t,n,r){const o=it(n);if(o.set==null)throw new Is(`Attempt to set read-only RecoilValue: ${n}`);const i=o.set;return kn(e,t,n,"set"),i(e,t,r)}function Bs(e,t,n){const r=e.getState(),o=e.getGraph(t.version),i=it(n).nodeType;return Zr({type:i},{loadable:()=>Xr(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var a;return cr((a=o.nodeDeps.get(n))!==null&&a!==void 0?a:[])},subscribers:()=>{var a,u;return{nodes:cr(xn(Yr(e,t,new Set([n])),c=>c!==n)),components:jt((a=(u=r.nodeToComponentSubscriptions.get(n))===null||u===void 0?void 0:u.values())!==null&&a!==void 0?a:[],([c])=>({name:c}))}}})}function Yr(e,t,n){const r=new Set,o=Array.from(n),i=e.getGraph(t.version);for(let u=o.pop();u;u=o.pop()){var a;r.add(u);const c=(a=i.nodeToNodeSubscriptions.get(u))!==null&&a!==void 0?a:$s;for(const d of c)r.has(d)||o.push(d)}return r}var Fe={getNodeLoadable:zs,peekNodeLoadable:Xr,setNodeValue:Fs,initializeNode:Os,cleanUpNode:js,setUnvalidatedAtomValue_DEPRECATED:Us,peekNodeInfo:Bs,getDownstreamNodes:Yr};let Jr=null;function Ws(e){Jr=e}function Ks(){var e;(e=Jr)===null||e===void 0||e()}var Qr={setInvalidateMemoizedSnapshot:Ws,invalidateMemoizedSnapshot:Ks};const{getDownstreamNodes:Gs,getNodeLoadable:eo,setNodeValue:Hs}=Fe,{getNode:qs,getNodeMaybe:to}=_e,{DefaultValue:Dn}=_e,{AbstractRecoilValue:Zs,RecoilState:od,RecoilValueReadOnly:id,isRecoilValue:ad}=Me,{invalidateMemoizedSnapshot:Xs}=Qr;function Ys(e,{key:t},n=e.getState().currentTree){var r,o;const i=e.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||n.version===((o=i.previousTree)===null||o===void 0?void 0:o.version)||ve();const a=eo(e,n,t);return a.state==="loading"&&a.contents.catch(()=>{}),a}function Js(e,t){const n=e.clone();return t.forEach((r,o)=>{r.state==="hasValue"&&r.contents instanceof Dn?n.delete(o):n.set(o,r)}),n}function Qs(e,t,{key:n},r){if(typeof r=="function"){const o=eo(e,t,n);if(o.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw ve(),O(i)}else if(o.state==="hasError")throw o.contents;return r(o.contents)}else return r}function ec(e,t,n){if(n.type==="set"){const{recoilValue:o,valueOrUpdater:i}=n,a=Qs(e,t,o,i),u=Hs(e,t,o.key,a);for(const[c,d]of u.entries())yn(t,c,d)}else if(n.type==="setLoadable"){const{recoilValue:{key:o},loadable:i}=n;yn(t,o,i)}else if(n.type==="markModified"){const{recoilValue:{key:o}}=n;t.dirtyAtoms.add(o)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:o},unvalidatedValue:i}=n,a=to(o);a==null||(r=a.invalidate)===null||r===void 0||r.call(a,t),t.atomValues.delete(o),t.nonvalidatedAtoms.set(o,i),t.dirtyAtoms.add(o)}else ve(`Unknown action ${n.type}`)}function yn(e,t,n){n.state==="hasValue"&&n.contents instanceof Dn?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function no(e,t){e.replaceState(n=>{const r=ro(n);for(const o of t)ec(e,r,o);return oo(e,r),Xs(),r})}function zt(e,t){if(Je.length){const n=Je[Je.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else no(e,[t])}const Je=[];function tc(){const e=new Map;return Je.push(e),()=>{for(const[n,r]of e)no(n,r);Je.pop()!==e&&ve()}}function ro(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function oo(e,t){const n=Gs(e,t,t.dirtyAtoms);for(const i of n){var r,o;(r=to(i))===null||r===void 0||(o=r.invalidate)===null||o===void 0||o.call(r,t)}}function io(e,t,n){zt(e,{type:"set",recoilValue:t,valueOrUpdater:n})}function nc(e,t,n){if(n instanceof Dn)return io(e,t,n);zt(e,{type:"setLoadable",recoilValue:t,loadable:n})}function rc(e,t){zt(e,{type:"markModified",recoilValue:t})}function oc(e,t,n){zt(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})}function ic(e,t){var n;const{currentTree:r}=e.getState(),o=qs(t.key);(n=o.clearCache)===null||n===void 0||n.call(o,e,r)}var xe={AbstractRecoilValue:Zs,getRecoilValueAsLoadable:Ys,setRecoilValue:io,setRecoilValueLoadable:nc,markRecoilValueModified:rc,setUnvalidatedRecoilValue:oc,applyAtomValueWrites:Js,batchStart:tc,writeLoadableToTreeState:yn,invalidateDownstreams:oo,copyTreeState:ro,refreshRecoilValue:ic};function ac(e,t,n){const r=e.entries();let o=r.next();for(;!o.done;){const i=o.value;if(t.call(n,i[1],i[0],e))return!0;o=r.next()}return!1}var sc=ac;const{cleanUpNode:cc}=Fe,{deleteNodeConfigIfPossible:lc,getNode:ao}=_e,{RetentionZone:so}=qr,co=new Set;function lo(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree){ve();return}const o=new Set;for(const a of t)if(a instanceof so)for(const u of hc(n,a))o.add(u);else o.add(a);const i=uc(e,o);for(const a of i)fc(e,r,a)}function uc(e,t){const n=e.getState(),r=n.currentTree,o=e.getGraph(r.version),i=new Set,a=new Set;return u(t),i;function u(c){const d=new Set,h=dc(e,r,c,i,a);for(const y of h){var p;if(ao(y).retainedBy==="recoilRoot"){a.add(y);continue}if(((p=n.retention.referenceCounts.get(y))!==null&&p!==void 0?p:0)>0){a.add(y);continue}if(uo(y).some(x=>n.retention.referenceCounts.get(x))){a.add(y);continue}const C=o.nodeToNodeSubscriptions.get(y);if(C&&sc(C,x=>a.has(x))){a.add(y);continue}i.add(y),d.add(y)}const R=new Set;for(const y of d)for(const C of(b=o.nodeDeps.get(y))!==null&&b!==void 0?b:co){var b;i.has(C)||R.add(C)}R.size&&u(R)}}function dc(e,t,n,r,o){const i=e.getGraph(t.version),a=[],u=new Set;for(;n.size>0;)c(X(n.values().next().value));return a;function c(d){if(r.has(d)||o.has(d)){n.delete(d);return}if(u.has(d))return;const h=i.nodeToNodeSubscriptions.get(d);if(h)for(const p of h)c(p);u.add(d),n.delete(d),a.push(d)}}function fc(e,t,n){if(!Y("recoil_memory_managament_2020"))return;cc(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const o=uo(n);for(const c of o){var i;(i=r.retention.nodesRetainedByZone.get(c))===null||i===void 0||i.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const a=r.graphsByVersion.get(t.version);if(a){const c=a.nodeDeps.get(n);if(c!==void 0){a.nodeDeps.delete(n);for(const d of c){var u;(u=a.nodeToNodeSubscriptions.get(d))===null||u===void 0||u.delete(n)}}a.nodeToNodeSubscriptions.delete(n)}lc(n)}function hc(e,t){var n;return(n=e.retention.nodesRetainedByZone.get(t))!==null&&n!==void 0?n:co}function uo(e){const t=ao(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof so?[t]:t}function pc(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):lo(e,new Set([t]))}function vc(e,t,n){var r;if(!Y("recoil_memory_managament_2020"))return;const o=e.getState().retention.referenceCounts,i=((r=o.get(t))!==null&&r!==void 0?r:0)+n;i===0?yc(e,t):o.set(t,i)}function yc(e,t){if(!Y("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),pc(e,t)}function _c(e){if(!Y("recoil_memory_managament_2020"))return;const t=e.getState();lo(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function mc(e){return e===void 0?"recoilRoot":e}var $n={updateRetainCount:vc,releaseScheduledRetainablesNow:_c,retainedByOptionWithDefault:mc};const{unstable_batchedUpdates:gc}=Ko;var bc={unstable_batchedUpdates:gc};const{unstable_batchedUpdates:Sc}=bc;var wc={unstable_batchedUpdates:Sc};const{batchStart:Rc}=xe,{unstable_batchedUpdates:Ec}=wc;let Cc=Ec||(e=>e());const Ac=e=>{Cc(()=>{let t=()=>{};try{t=Rc(),e()}finally{t()}})};var In={batchUpdates:Ac};function*Tc(e){for(const t of e)for(const n of t)yield n}var fo=Tc;const Nc=typeof Window>"u"||typeof window>"u";var Lc={isSSR:Nc};function Mc(e,t){let n,r;return[(...a)=>{const u=t(...a);return n===u||(n=u,r=e(...a)),r},()=>{n=null}]}var Vc={memoizeOneWithArgsHashAndInvalidation:Mc};const{batchUpdates:_n}=In,{initializeNode:xc,peekNodeInfo:kc}=Fe,{graph:Dc}=ot,{getNextStoreID:$c}=Vn,{DEFAULT_VALUE:Ic,recoilValues:ur,recoilValuesForKeys:dr}=_e,{AbstractRecoilValue:Pc,getRecoilValueAsLoadable:Oc,setRecoilValue:fr,setUnvalidatedRecoilValue:jc}=xe,{updateRetainCount:Rt}=$n,{setInvalidateMemoizedSnapshot:zc}=Qr,{getNextTreeStateVersion:Uc,makeEmptyStoreState:Fc}=Hr,{isSSR:Bc}=Lc,{memoizeOneWithArgsHashAndInvalidation:Wc}=Vc;class Ut{constructor(t,n){D(this,"_store",void 0),D(this,"_refCount",1),D(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),Oc(this._store,r))),D(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),D(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),r?.isModified===!0){if(r?.isInitialized===!1)return[];const a=this._store.getState().currentTree;return dr(a.dirtyAtoms)}const o=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return r?.isInitialized==null?ur.values():r.isInitialized===!0?dr(fo([o,i])):xn(ur.values(),({key:a})=>!o.has(a)&&!i.has(a))}),D(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),kc(this._store,this._store.getState().currentTree,r))),D(this,"map",r=>{this.checkRefCount_INTERNAL();const o=new mn(this,_n);return r(o),o}),D(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const o=new mn(this,_n);return o.retain(),await r(o),o.autoRelease_INTERNAL(),o}),this._store={storeID:$c(),parentStoreID:n,getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{const o=t.graphsByVersion;if(o.has(r))return X(o.get(r));const i=Dc();return o.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw O("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)xc(this._store,r,"get"),Rt(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&ve(),this._refCount++;let t=!1;return()=>{t||(t=!0,this._release())}}autoRelease_INTERNAL(){Bc||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(t=>t()),this._store.getState().nodeCleanupFunctions.clear(),!Y("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Y("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function ho(e,t,n=!1){const r=e.getState(),o=n?Uc():t.version;return{currentTree:{version:n?o:t.version,stateID:n?o:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(o,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(jt(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function Kc(e){const t=new Ut(Fc());return e!=null?t.map(e):t}const[hr,po]=Wc((e,t)=>{var n;const r=e.getState(),o=t==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:X(r.previousTree);return new Ut(ho(e,o),e.storeID)},(e,t)=>{var n,r;return String(t)+String(e.storeID)+String((n=e.getState().nextTree)===null||n===void 0?void 0:n.version)+String(e.getState().currentTree.version)+String((r=e.getState().previousTree)===null||r===void 0?void 0:r.version)});zc(po);function Gc(e,t="latest"){const n=hr(e,t);return n.isRetained()?n:(po(),hr(e,t))}class mn extends Ut{constructor(t,n){super(ho(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0),t.getStoreID()),D(this,"_batch",void 0),D(this,"set",(r,o)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Rt(i,r.key,1),fr(this.getStore_INTERNAL(),r,o)})}),D(this,"reset",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Rt(o,r.key,1),fr(this.getStore_INTERNAL(),r,Ic)})}),D(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();_n(()=>{for(const[i,a]of r.entries())Rt(o,i,1),jc(o,new Pc(i),a)})}),this._batch=n}}var Ft={Snapshot:Ut,MutableSnapshot:mn,freshSnapshot:Kc,cloneSnapshot:Gc},Hc=Ft.Snapshot,qc=Ft.MutableSnapshot,Zc=Ft.freshSnapshot,Xc=Ft.cloneSnapshot,Bt=Object.freeze({__proto__:null,Snapshot:Hc,MutableSnapshot:qc,freshSnapshot:Zc,cloneSnapshot:Xc});function Yc(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}var Jc=Yc;const{useRef:Qc}=q;function el(e){const t=Qc(e);return t.current===e&&typeof e=="function"&&(t.current=e()),t}var pr=el;const{getNextTreeStateVersion:tl,makeEmptyStoreState:vo}=Hr,{cleanUpNode:nl,getDownstreamNodes:rl,initializeNode:ol,setNodeValue:il,setUnvalidatedAtomValue_DEPRECATED:al}=Fe,{graph:sl}=ot,{cloneGraph:cl}=ot,{getNextStoreID:yo}=Vn,{createMutableSource:sn,reactMode:_o}=Ga,{applyAtomValueWrites:ll}=xe,{releaseScheduledRetainablesNow:mo}=$n,{freshSnapshot:ul}=Bt,{useCallback:dl,useContext:fl,useEffect:gn,useMemo:hl,useRef:pl,useState:vl}=q;function Ge(){throw O("This component must be used inside a <RecoilRoot> component.")}const go=Object.freeze({storeID:yo(),getState:Ge,replaceState:Ge,getGraph:Ge,subscribeToTransactions:Ge,addTransactionMetadata:Ge});let bn=!1;function vr(e){if(bn)throw O("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(t.nextTree===null){Y("recoil_memory_managament_2020")&&Y("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&mo(e);const n=t.currentTree.version,r=tl();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,cl(X(t.graphsByVersion.get(n))))}}const bo=q.createContext({current:go}),So=()=>fl(bo),yl=q.createContext(null);function wo(e,t,n){const r=rl(e,n,n.dirtyAtoms);for(const o of r){const i=t.nodeToComponentSubscriptions.get(o);if(i)for(const[a,[u,c]]of i)c(n)}}function _l(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[o,i]of t.nodeTransactionSubscriptions)if(r.has(o))for(const[a,u]of i)u(e);for(const[o,i]of t.transactionSubscriptions)i(e);(!_o().early||t.suspendedComponentResolvers.size>0)&&(wo(e,t,n),t.suspendedComponentResolvers.forEach(o=>o()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(o=>o(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function ml(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(n==null)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,_l(e),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):ve("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Y("recoil_memory_managament_2020")&&n==null&&mo(e)}finally{t.commitDepth--}}function gl({setNotifyBatcherOfChange:e}){const t=So(),[,n]=vl([]);return e(()=>n({})),gn(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),gn(()=>{ls.enqueueExecution("Batcher",()=>{ml(t.current)})}),null}function bl(e,t){const n=vo();return t({set:(r,o)=>{const i=n.currentTree,a=il(e,i,r.key,o),u=new Set(a.keys()),c=i.nonvalidatedAtoms.clone();for(const d of u)c.delete(d);n.currentTree={...i,dirtyAtoms:Jc(i.dirtyAtoms,u),atomValues:ll(i.atomValues,a),nonvalidatedAtoms:c}},setUnvalidatedAtomValues:r=>{r.forEach((o,i)=>{n.currentTree=al(n.currentTree,i,o)})}}),n}function Sl(e){const t=ul(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let yr=0;function wl({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let o;const i=b=>{const y=o.current.graphsByVersion;if(y.has(b))return X(y.get(b));const C=sl();return y.set(b,C),C},a=(b,y)=>{if(y==null){const{transactionSubscriptions:C}=p.current.getState(),x=yr++;return C.set(x,b),{release:()=>{C.delete(x)}}}else{const{nodeTransactionSubscriptions:C}=p.current.getState();C.has(y)||C.set(y,new Map);const x=yr++;return X(C.get(y)).set(x,b),{release:()=>{const z=C.get(y);z&&(z.delete(x),z.size===0&&C.delete(y))}}}},u=b=>{vr(p.current);for(const y of Object.keys(b))X(p.current.getState().nextTree).transactionMetadata[y]=b[y]},c=b=>{vr(p.current);const y=X(o.current.nextTree);let C;try{bn=!0,C=b(y)}finally{bn=!1}C!==y&&(o.current.nextTree=C,_o().early&&wo(p.current,o.current,C),X(d.current)())},d=pl(null),h=dl(b=>{d.current=b},[d]),p=pr(()=>n??{storeID:yo(),getState:()=>o.current,replaceState:c,getGraph:i,subscribeToTransactions:a,addTransactionMetadata:u});n!=null&&(p.current=n),o=pr(()=>e!=null?bl(p.current,e):t!=null?Sl(t):vo());const R=hl(()=>sn?.(o,()=>o.current.currentTree.version),[o]);return gn(()=>{const b=p.current;for(const y of new Set(b.getState().knownAtoms))ol(b,y,"get");return()=>{for(const y of b.getState().knownAtoms)nl(b,y)}},[p]),q.createElement(bo.Provider,{value:p},q.createElement(yl.Provider,{value:R},q.createElement(gl,{setNotifyBatcherOfChange:h}),r))}function Rl(e){const{override:t,...n}=e,r=So();return t===!1&&r.current!==go?e.children:q.createElement(wl,n)}var El={RecoilRoot:Rl};const{useEffect:sd,useRef:cd}=q,{useEffect:ld,useRef:ud}=q,{isRecoilValue:dd}=Me,{useCallback:fd,useEffect:hd,useMemo:pd,useRef:vd,useState:yd}=q,{batchUpdates:Cl}=In,{DEFAULT_VALUE:Al,getNode:Tl}=_e,{AbstractRecoilValue:Nl,setRecoilValueLoadable:Ll}=xe,{cloneSnapshot:_d}=Bt,{useCallback:md,useEffect:gd,useRef:bd,useState:Sd}=q;function Ml(e,t){var n;const r=e.getState(),o=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=t.getStore_INTERNAL().getState().currentTree;Cl(()=>{const a=new Set;for(const d of[o.atomValues.keys(),i.atomValues.keys()])for(const h of d){var u,c;((u=o.atomValues.get(h))===null||u===void 0?void 0:u.contents)!==((c=i.atomValues.get(h))===null||c===void 0?void 0:c.contents)&&Tl(h).shouldRestoreFromSnapshots&&a.add(h)}a.forEach(d=>{Ll(e,new Nl(d),i.atomValues.has(d)?X(i.atomValues.get(d)):Al)}),e.replaceState(d=>({...d,stateID:t.getID()}))})}var Vl={gotoSnapshot:Ml};const{useMemo:wd}=q,{loadableWithValue:xl}=nt,{initializeNode:kl}=Fe,{DEFAULT_VALUE:Dl,getNode:$l}=_e,{copyTreeState:Il,getRecoilValueAsLoadable:Pl,invalidateDownstreams:Ol,writeLoadableToTreeState:jl}=xe;function _r(e){return $l(e.key).nodeType==="atom"}class zl{constructor(t,n){D(this,"_store",void 0),D(this,"_treeState",void 0),D(this,"_changes",void 0),D(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!_r(r))throw O("Reading selectors within atomicUpdate is not supported");const o=Pl(this._store,r,this._treeState);if(o.state==="hasValue")return o.contents;throw o.state==="hasError"?o.contents:O(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),D(this,"set",(r,o)=>{if(!_r(r))throw O("Setting selectors within atomicUpdate is not supported");if(typeof o=="function"){const i=this.get(r);this._changes.set(r.key,o(i))}else kl(this._store,r.key,"set"),this._changes.set(r.key,o)}),D(this,"reset",r=>{this.set(r,Dl)}),this._store=t,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const t=Il(this._treeState);for(const[n,r]of this._changes)jl(t,n,xl(r));return Ol(this._store,t),t}}function Ul(e){return t=>{e.replaceState(n=>{const r=new zl(e,n);return t(r),r.newTreeState_INTERNAL()})}}var Fl={atomicUpdater:Ul},Bl=Fl.atomicUpdater,Ro=Object.freeze({__proto__:null,atomicUpdater:Bl});function Wl(e,t){if(!e)throw new Error(t)}var Kl=Wl,Xe=Kl;const{atomicUpdater:Gl}=Ro,{batchUpdates:Hl}=In,{DEFAULT_VALUE:ql}=_e,{refreshRecoilValue:Zl,setRecoilValue:mr}=xe,{cloneSnapshot:Xl}=Bt,{gotoSnapshot:Yl}=Vl,{useCallback:Rd}=q;class Eo{}const Jl=new Eo;function Ql(e,t,n,r){let o=Jl,i;if(Hl(()=>{const u="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw O(u);const c=Zr({...r??{},set:(h,p)=>mr(e,h,p),reset:h=>mr(e,h,ql),refresh:h=>Zl(e,h),gotoSnapshot:h=>Yl(e,h),transact_UNSTABLE:h=>Gl(e)(h)},{snapshot:()=>{const h=Xl(e);return i=h.retain(),h}}),d=t(c);if(typeof d!="function")throw O(u);o=d(...n)}),o instanceof Eo&&Xe(!1),J(o))o=o.finally(()=>{var u;(u=i)===null||u===void 0||u()});else{var a;(a=i)===null||a===void 0||a()}return o}var eu={recoilCallback:Ql};const{useCallback:Ed}=q,{atomicUpdater:Cd}=Ro,{useMemo:Ad}=q;class tu{constructor(t){D(this,"value",void 0),this.value=t}}var nu={WrappedValue:tu},ru=nu.WrappedValue,Co=Object.freeze({__proto__:null,WrappedValue:ru});class gr extends Error{}class ou{constructor(t){var n,r,o;D(this,"_name",void 0),D(this,"_numLeafs",void 0),D(this,"_root",void 0),D(this,"_onHit",void 0),D(this,"_onSet",void 0),D(this,"_mapNodeValue",void 0),this._name=t?.name,this._numLeafs=0,this._root=null,this._onHit=(n=t?.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=t?.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(o=t?.mapNodeValue)!==null&&o!==void 0?o:i=>i}size(){return this._numLeafs}root(){return this._root}get(t,n){var r;return(r=this.getLeafNode(t,n))===null||r===void 0?void 0:r.value}getLeafNode(t,n){if(this._root==null)return;let r=this._root;for(;r;){if(n?.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const o=this._mapNodeValue(t(r.nodeKey));r=r.branches.get(o)}}set(t,n,r){const o=()=>{var i,a,u,c;let d,h;for(const[x,z]of t){var p,R,b;const F=this._root;if(F?.type==="leaf")throw this.invalidCacheError();const T=d;if(d=T?T.branches.get(h):F,d=(p=d)!==null&&p!==void 0?p:{type:"branch",nodeKey:x,parent:T,branches:new Map,branchKey:h},d.type!=="branch"||d.nodeKey!==x)throw this.invalidCacheError();T?.branches.set(h,d),r==null||(R=r.onNodeVisit)===null||R===void 0||R.call(r,d),h=this._mapNodeValue(z),this._root=(b=this._root)!==null&&b!==void 0?b:d}const y=d?(i=d)===null||i===void 0?void 0:i.branches.get(h):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==h))throw this.invalidCacheError();const C={type:"leaf",value:n,parent:d,branchKey:h};(a=d)===null||a===void 0||a.branches.set(h,C),this._root=(u=this._root)!==null&&u!==void 0?u:C,this._numLeafs++,this._onSet(C),r==null||(c=r.onNodeVisit)===null||c===void 0||c.call(r,C)};try{o()}catch(i){if(i instanceof gr)this.clear(),o();else throw i}}delete(t){const n=this.root();if(!n)return!1;if(t===n)return this._root=null,this._numLeafs=0,!0;let r=t.parent,o=t.branchKey;for(;r;){var i;if(r.branches.delete(o),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;o=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){throw ve("Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache."+(this._name!=null?` - ${this._name}`:"")),new gr}}var iu={TreeCache:ou},au=iu.TreeCache,Ao=Object.freeze({__proto__:null,TreeCache:au});class su{constructor(t){var n;D(this,"_maxSize",void 0),D(this,"_size",void 0),D(this,"_head",void 0),D(this,"_tail",void 0),D(this,"_map",void 0),D(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=t.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){const n=this._keyMapper(t),r=this._map.get(n);if(r)return this.set(t,r.value),r.value}set(t,n){const r=this._keyMapper(t);this._map.get(r)&&this.delete(t);const i=this.head(),a={key:t,right:i,left:null,value:n};i?i.left=a:this._tail=a,this._map.set(r,a),this._head=a,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const t=this.tail();t&&this.delete(t.key)}delete(t){const n=this._keyMapper(t);if(!this._size||!this._map.has(n))return;const r=X(this._map.get(n)),o=r.right,i=r.left;o&&(o.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=o),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var cu={LRUCache:su},lu=cu.LRUCache,To=Object.freeze({__proto__:null,LRUCache:lu});const{LRUCache:uu}=To,{TreeCache:du}=Ao;function fu({name:e,maxSize:t,mapNodeValue:n=r=>r}){const r=new uu({maxSize:t}),o=new du({name:e,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const a=r.tail();r.set(i,!0),a&&o.size()>t&&o.delete(a.key)}});return o}var br=fu;function he(e,t,n){if(typeof e=="string"&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(t?.allowFunctions!==!0)throw O("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var r;return(r=JSON.stringify(e))!==null&&r!==void 0?r:""}if(J(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((o,i)=>he(o,t,i.toString()))}]`;if(typeof e.toJSON=="function")return he(e.toJSON(n),t,n);if(e instanceof Map){const o={};for(const[i,a]of e)o[typeof i=="string"?i:he(i,t)]=a;return he(o,t,n)}return e instanceof Set?he(Array.from(e).sort((o,i)=>he(o,t).localeCompare(he(i,t))),t,n):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?he(Array.from(e),t,n):`{${Object.keys(e).filter(o=>e[o]!==void 0).sort().map(o=>`${he(o,t)}:${he(e[o],t,o)}`).join(",")}}`}function hu(e,t={allowFunctions:!1}){return he(e,t)}var Pn=hu;const{TreeCache:pu}=Ao,_t={equality:"reference",eviction:"keep-all",maxSize:1/0};function vu({equality:e=_t.equality,eviction:t=_t.eviction,maxSize:n=_t.maxSize}=_t,r){const o=yu(e);return _u(t,n,o,r)}function yu(e){switch(e){case"reference":return t=>t;case"value":return t=>Pn(t)}throw O(`Unrecognized equality policy ${e}`)}function _u(e,t,n,r){switch(e){case"keep-all":return new pu({name:r,mapNodeValue:n});case"lru":return br({name:r,maxSize:X(t),mapNodeValue:n});case"most-recent":return br({name:r,maxSize:1,mapNodeValue:n})}throw O(`Unrecognized eviction policy ${e}`)}var mu=vu;const{isLoadable:gu,loadableWithError:mt,loadableWithPromise:bu,loadableWithValue:cn}=nt,{WrappedValue:No}=Co,{getNodeLoadable:gt,peekNodeLoadable:Su,setNodeValue:wu}=Fe,{saveDepsToStore:Ru}=ot,{DEFAULT_VALUE:Eu,getConfigDeletionHandler:Cu,getNode:Au,registerNode:Sr}=_e,{isRecoilValue:Tu}=Me,{markRecoilValueModified:wr}=xe,{retainedByOptionWithDefault:Nu}=$n,{recoilCallback:Lu}=eu;class Lo{}const He=new Lo,qe=[],bt=new Map,Mu=(()=>{let e=0;return()=>e++})();function Mo(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:o}=e,i=e.set!=null?e.set:void 0,a=new Set,u=mu(o??{equality:"reference",eviction:"keep-all"},n),c=Nu(e.retainedBy_UNSTABLE),d=new Map;let h=0;function p(){return!Y("recoil_memory_managament_2020")||h>0}function R(f){return f.getState().knownSelectors.add(n),h++,()=>{h--}}function b(){return Cu(n)!==void 0&&!p()}function y(f,g,S,$,A){st(g,$,A),C(f,S)}function C(f,g){Re(f,g)&&me(f),z(g,!0)}function x(f,g){Re(f,g)&&(X(ue(f)).stateVersions.clear(),z(g,!1))}function z(f,g){const S=bt.get(f);if(S!=null){for(const $ of S)wr($,X(t));g&&bt.delete(f)}}function F(f,g){let S=bt.get(g);S==null&&bt.set(g,S=new Set),S.add(f)}function T(f,g,S,$,A,U){return g.then(N=>{if(!p())throw me(f),He;const K=cn(N);return y(f,S,A,K,$),N}).catch(N=>{if(!p())throw me(f),He;if(J(N))return j(f,N,S,$,A,U);const K=mt(N);throw y(f,S,A,K,$),N})}function j(f,g,S,$,A,U){return g.then(N=>{if(!p())throw me(f),He;U.loadingDepKey!=null&&U.loadingDepPromise===g?S.atomValues.set(U.loadingDepKey,cn(N)):f.getState().knownSelectors.forEach(G=>{S.atomValues.delete(G)});const K=I(f,S);if(K&&K.state!=="loading"){if((Re(f,A)||ue(f)==null)&&C(f,A),K.state==="hasValue")return K.contents;throw K.contents}if(!Re(f,A)){const G=we(f,S);if(G!=null)return G.loadingLoadable.contents}const[Z,te]=B(f,S,A);if(Z.state!=="loading"&&y(f,S,A,Z,te),Z.state==="hasError")throw Z.contents;return Z.contents}).catch(N=>{if(N instanceof Lo)throw He;if(!p())throw me(f),He;const K=mt(N);throw y(f,S,A,K,$),N})}function k(f,g,S,$){var A,U,N,K;if(Re(f,$)||g.version===((A=f.getState())===null||A===void 0||(U=A.currentTree)===null||U===void 0?void 0:U.version)||g.version===((N=f.getState())===null||N===void 0||(K=N.nextTree)===null||K===void 0?void 0:K.version)){var Z,te,G;Ru(n,S,f,(Z=(te=f.getState())===null||te===void 0||(G=te.nextTree)===null||G===void 0?void 0:G.version)!==null&&Z!==void 0?Z:f.getState().currentTree.version)}for(const ne of S)a.add(ne)}function B(f,g,S){let $=!0,A=!0;const U=()=>{A=!1};let N,K=!1,Z;const te={loadingDepKey:null,loadingDepPromise:null},G=new Map;function ne({key:de}){const re=gt(f,g,de);switch(G.set(de,re),$||(k(f,g,new Set(G.keys()),S),x(f,S)),re.state){case"hasValue":return re.contents;case"hasError":throw re.contents;case"loading":throw te.loadingDepKey=de,te.loadingDepPromise=re.contents,re.contents}throw O("Invalid Loadable state")}const Ce=de=>(...re)=>{if(A)throw O("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return t==null&&Xe(!1),Lu(f,de,re,{node:t})};try{N=r({get:ne,getCallback:Ce}),N=Tu(N)?ne(N):N,gu(N)&&(N.state==="hasError"&&(K=!0),N=N.contents),J(N)?N=T(f,N,g,G,S,te).finally(U):U(),N=N instanceof No?N.value:N}catch(de){N=de,J(N)?N=j(f,N,g,G,S,te).finally(U):(K=!0,U())}return K?Z=mt(N):J(N)?Z=bu(N):Z=cn(N),$=!1,Gt(f,S,G),k(f,g,new Set(G.keys()),S),[Z,G]}function I(f,g){let S=g.atomValues.get(n);if(S!=null)return S;const $=new Set;try{S=u.get(U=>(typeof U!="string"&&Xe(!1),gt(f,g,U).contents),{onNodeVisit:U=>{U.type==="branch"&&U.nodeKey!==n&&$.add(U.nodeKey)}})}catch(U){throw O(`Problem with cache lookup for selector "${n}": ${U.message}`)}if(S){var A;g.atomValues.set(n,S),k(f,g,$,(A=ue(f))===null||A===void 0?void 0:A.executionID)}return S}function W(f,g){const S=I(f,g);if(S!=null)return me(f),S;const $=we(f,g);if($!=null){var A;return((A=$.loadingLoadable)===null||A===void 0?void 0:A.state)==="loading"&&F(f,$.executionID),$.loadingLoadable}const U=Mu(),[N,K]=B(f,g,U);return N.state==="loading"?(De(f,U,N,K,g),F(f,U)):(me(f),st(g,N,K)),N}function we(f,g){const S=fo([d.has(f)?[X(d.get(f))]:[],jt(xn(d,([A])=>A!==f),([,A])=>A)]);function $(A){for(const[U,N]of A)if(!gt(f,g,U).is(N))return!0;return!1}for(const A of S){if(A.stateVersions.get(g.version)||!$(A.depValuesDiscoveredSoFarDuringAsyncWork))return A.stateVersions.set(g.version,!0),A;A.stateVersions.set(g.version,!1)}}function ue(f){return d.get(f)}function De(f,g,S,$,A){d.set(f,{depValuesDiscoveredSoFarDuringAsyncWork:$,executionID:g,loadingLoadable:S,stateVersions:new Map([[A.version,!0]])})}function Gt(f,g,S){if(Re(f,g)){const $=ue(f);$!=null&&($.depValuesDiscoveredSoFarDuringAsyncWork=S)}}function me(f){d.delete(f)}function Re(f,g){var S;return g===((S=ue(f))===null||S===void 0?void 0:S.executionID)}function at(f){return Array.from(f.entries()).map(([g,S])=>[g,S.contents])}function st(f,g,S){f.atomValues.set(n,g);try{u.set(at(S),g)}catch($){throw O(`Problem with setting cache for selector "${n}": ${$.message}`)}}function $e(f){if(qe.includes(n)){const g=`Recoil selector has circular dependencies: ${qe.slice(qe.indexOf(n)).join(" → ")}`;return mt(O(g))}qe.push(n);try{return f()}finally{qe.pop()}}function ct(f,g){const S=g.atomValues.get(n);return S??u.get($=>{var A;return typeof $!="string"&&Xe(!1),(A=Su(f,g,$))===null||A===void 0?void 0:A.contents})}function lt(f,g){return $e(()=>W(f,g))}function Be(f){f.atomValues.delete(n)}function ut(f,g){t==null&&Xe(!1);for(const $ of a){var S;const A=Au($);(S=A.clearCache)===null||S===void 0||S.call(A,f,g)}a.clear(),Be(g),u.clear(),wr(f,t)}return i!=null?t=Sr({key:n,nodeType:"selector",peek:ct,get:lt,set:(g,S,$)=>{let A=!1;const U=new Map;function N({key:G}){if(A)throw O("Recoil: Async selector sets are not currently supported.");const ne=gt(g,S,G);if(ne.state==="hasValue")return ne.contents;if(ne.state==="loading"){const Ce=`Getting value of asynchronous atom or selector "${G}" in a pending state while setting selector "${n}" is not yet supported.`;throw ve(),O(Ce)}else throw ne.contents}function K(G,ne){if(A){const re="Recoil: Async selector sets are not currently supported.";throw ve(),O(re)}const Ce=typeof ne=="function"?ne(N(G)):ne;wu(g,S,G.key,Ce).forEach((re,dt)=>U.set(dt,re))}function Z(G){K(G,Eu)}const te=i({set:K,get:N,reset:Z},$);if(te!==void 0)throw J(te)?O("Recoil: Async selector sets are not currently supported."):O("Recoil: selector set should be a void function.");return A=!0,U},init:R,invalidate:Be,clearCache:ut,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c}):t=Sr({key:n,nodeType:"selector",peek:ct,get:lt,init:R,invalidate:Be,clearCache:ut,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})}Mo.value=e=>new No(e);var Mt=Mo;const{isLoadable:Td,loadableWithError:Nd,loadableWithPromise:Ld,loadableWithValue:Md}=nt,{WrappedValue:Vd}=Co,{isRecoilValue:xd}=Me;class Vu{constructor(t){var n;D(this,"_map",void 0),D(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=t?.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,n){this._map.set(this._keyMapper(t),n)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}}var xu={MapCache:Vu},ku=xu.MapCache,Du=Object.freeze({__proto__:null,MapCache:ku});const{LRUCache:Rr}=To,{MapCache:$u}=Du,St={equality:"reference",eviction:"none",maxSize:1/0};function Iu({equality:e=St.equality,eviction:t=St.eviction,maxSize:n=St.maxSize}=St){const r=Pu(e);return Ou(t,n,r)}function Pu(e){switch(e){case"reference":return t=>t;case"value":return t=>Pn(t)}throw O(`Unrecognized equality policy ${e}`)}function Ou(e,t,n){switch(e){case"keep-all":return new $u({mapKey:n});case"lru":return new Rr({mapKey:n,maxSize:X(t)});case"most-recent":return new Rr({mapKey:n,maxSize:1})}throw O(`Unrecognized eviction policy ${e}`)}var ju=Iu;const{setConfigDeletionHandler:zu}=_e;let Uu=0;function Fu(e){var t,n;const r=ju({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return o=>{var i;let a;try{a=r.get(o)}catch(R){throw O(`Problem with cache lookup for selector ${e.key}: ${R.message}`)}if(a!=null)return a;const u=`${e.key}__selectorFamily/${(i=Pn(o,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${Uu++}`,c=R=>e.get(o)(R),d=e.cachePolicy_UNSTABLE,h=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(o):e.retainedBy_UNSTABLE;let p;if(e.set!=null){const R=e.set;p=Mt({key:u,get:c,set:(y,C)=>R(o)(y,C),cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:h})}else p=Mt({key:u,get:c,cachePolicy_UNSTABLE:d,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:h});return r.set(o,p),zu(p.key,()=>{r.delete(o)}),p}}var ke=Fu;ke({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});ke({key:"__error",get:e=>()=>{throw O(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:Vo,loadableWithPromise:xo,loadableWithValue:ko}=nt;function Wt(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[o,i]of t.entries())try{n[o]=e(i)}catch(a){r[o]=a}return[n,r]}function Bu(e){return e!=null&&!J(e)}function Kt(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function Sn(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,r,o)=>({...n,[r]:t[o]}),{})}function Oe(e,t,n){const r=n.map((o,i)=>o==null?ko(t[i]):J(o)?xo(o):Vo(o));return Sn(e,r)}function Wu(e,t){return t.map((n,r)=>n===void 0?e[r]:n)}ke({key:"__waitForNone",get:e=>({get:t})=>{const n=Kt(e),[r,o]=Wt(t,n);return Oe(e,r,o)},dangerouslyAllowMutability:!0});ke({key:"__waitForAny",get:e=>({get:t})=>{const n=Kt(e),[r,o]=Wt(t,n);return o.some(i=>!J(i))?Oe(e,r,o):new Promise(i=>{for(const[a,u]of o.entries())J(u)&&u.then(c=>{r[a]=c,o[a]=void 0,i(Oe(e,r,o))}).catch(c=>{o[a]=c,i(Oe(e,r,o))})})},dangerouslyAllowMutability:!0});ke({key:"__waitForAll",get:e=>({get:t})=>{const n=Kt(e),[r,o]=Wt(t,n);if(o.every(a=>a==null))return Sn(e,r);const i=o.find(Bu);if(i!=null)throw i;return Promise.all(o).then(a=>Sn(e,Wu(r,a)))},dangerouslyAllowMutability:!0});ke({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Kt(e),[r,o]=Wt(t,n);return o.every(i=>!J(i))?Oe(e,r,o):Promise.all(o.map((i,a)=>J(i)?i.then(u=>{r[a]=u,o[a]=void 0}).catch(u=>{r[a]=void 0,o[a]=u}):null)).then(()=>Oe(e,r,o))},dangerouslyAllowMutability:!0});ke({key:"__noWait",get:e=>({get:t})=>{try{return Mt.value(ko(t(e)))}catch(n){return Mt.value(J(n)?xo(n):Vo(n))}},dangerouslyAllowMutability:!0});const{RecoilLoadable:kd}=nt,{RecoilRoot:Ku}=El,{isRecoilValue:Dd}=Me,{freshSnapshot:$d}=Bt;var Gu={RecoilRoot:Ku},Hu=Gu.RecoilRoot;const{Title:qu,Paragraph:ge,Text:ie}=Go,Zu=()=>{const[e,t]=Fn(_i),[n,r]=Fn(mi),o=yi(p=>p),i=hi(),{count:a,loading:u,increment:c,reset:d,error:h}=Sa();return E.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[E.jsx(qu,{level:2,children:"状态管理演示"}),E.jsx(Ho,{type:"info",message:"什么是状态管理？",description:"状态管理是前端应用中管理和维护应用状态的方法。在 React 生态中，有多种状态管理方案，如 Redux、Zustand、Jotai 等，它们各有特点，适用于不同的场景。",showIcon:!0,style:{marginBottom:"20px"}}),E.jsxs(Pe,{direction:"vertical",style:{width:"100%"},children:[E.jsx(ht,{title:"Jotai 状态管理",children:E.jsxs(Pe,{direction:"vertical",style:{width:"100%"},children:[E.jsxs("div",{className:"state-card",children:[E.jsxs(ge,{children:[E.jsx(ie,{strong:!0,children:"当前计数: "}),E.jsx(ie,{children:e})]}),E.jsxs(Pe,{children:[E.jsx(ye,{onClick:()=>t(p=>p+1),children:"增加"}),E.jsx(ye,{onClick:()=>t(p=>p-1),children:"减少"}),E.jsx(ye,{onClick:()=>t(0),children:"重置"})]})]}),E.jsx(Bn,{}),E.jsxs("div",{className:"state-card",children:[E.jsxs(ge,{children:[E.jsx(ie,{strong:!0,children:"异步数据: "}),E.jsx(ie,{children:n.loading?"加载中...":n.data||"无数据"})]}),n.error&&E.jsx(ge,{className:"error-message",children:n.error}),E.jsx(ye,{onClick:()=>r(),disabled:n.loading,type:"primary",children:"获取异步数据"})]})]})}),E.jsx(ht,{title:"Redux 状态管理",children:E.jsxs(Pe,{direction:"vertical",style:{width:"100%"},children:[E.jsxs("div",{className:"state-card",children:[E.jsxs(ge,{children:[E.jsx(ie,{strong:!0,children:"当前计数: "}),E.jsx(ie,{children:o.value})]}),E.jsxs(Pe,{children:[E.jsx(ye,{onClick:()=>i(ha()),children:"增加"}),E.jsx(ye,{onClick:()=>i(pa()),children:"减少"}),E.jsx(ye,{onClick:()=>i(va()),children:"重置"})]})]}),E.jsx(Bn,{}),E.jsxs("div",{className:"state-card",children:[E.jsxs(ge,{children:[E.jsx(ie,{strong:!0,children:"异步数据: "}),E.jsx(ie,{children:o.loading?"加载中...":o.asyncData!==null?`${o.asyncData}`:"无数据"})]}),o.error&&E.jsx(ge,{className:"error-message",children:o.error}),E.jsx(ye,{onClick:()=>i(wt()),disabled:o.loading,type:"primary",children:"获取异步数据"})]})]})}),E.jsx(ht,{title:"Zustand 状态管理",children:E.jsxs("div",{className:"state-card",children:[E.jsxs(ge,{children:[E.jsx(ie,{strong:!0,children:"当前数值: "}),E.jsx(ie,{children:a.toFixed(2)})]}),h&&E.jsx(ge,{className:"error-message",children:h}),E.jsxs(Pe,{children:[E.jsx(ye,{onClick:c,disabled:u,type:"primary",children:u?"加载中...":"生成随机数"}),E.jsx(ye,{onClick:d,children:"重置"})]})]})}),E.jsxs(ht,{title:"状态管理对比",children:[E.jsx(ge,{children:E.jsx(ie,{strong:!0,children:"三种状态管理的异步特点："})}),E.jsxs("ul",{className:"feature-list",children:[E.jsxs("li",{children:[E.jsx(ie,{strong:!0,children:"Jotai: "}),"使用原子化方式处理异步，可以直接在原子中定义异步逻辑"]}),E.jsxs("li",{children:[E.jsx(ie,{strong:!0,children:"Redux: "}),"使用 createAsyncThunk 处理异步，结合 extraReducers 处理不同状态"]}),E.jsxs("li",{children:[E.jsx(ie,{strong:!0,children:"Zustand: "}),"直接在 store 中定义异步方法，使用简单直观"]})]})]})]})]})},Id=()=>E.jsx(ui,{store:ya,children:E.jsx(Hu,{children:E.jsx(Zu,{})})});export{Id as default};
