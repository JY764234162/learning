# 音频编辑器调试指南

## 问题：上传音频后一直显示"加载中"

### 可能的原因和解决方案

#### 1. 检查浏览器控制台
打开浏览器开发者工具（F12），查看 Console 标签页，看看有没有错误信息：
- 如果看到 "Waveform container not ready" - DOM 元素还没准备好
- 如果看到 "WaveSurfer error" - 音频文件加载失败
- 如果看到 "Failed to initialize WaveSurfer" - 初始化失败

#### 2. 音频文件格式问题
某些音频格式可能不被浏览器支持：
- ✅ 推荐格式：MP3、WAV
- ⚠️ 可能有问题：某些 M4A、OGG 格式
- **解决方案**：尝试上传一个标准的 MP3 文件

#### 3. 文件大小问题
文件太大可能导致加载缓慢：
- **解决方案**：先尝试上传一个小于 10MB 的音频文件

#### 4. 浏览器兼容性
- 确保使用 Chrome、Firefox 或 Edge 最新版本
- Safari 可能有兼容性问题

### 调试步骤

1. **刷新页面**后再试一次
2. **上传一个简单的 MP3 文件**（推荐 < 5MB）
3. **打开浏览器控制台**（F12），查看是否有错误信息
4. **查看 Network 标签**，看音频文件是否成功加载

### 临时测试音频

如果你没有合适的音频文件，可以：
1. 在网上下载一个简短的 MP3 测试文件
2. 使用在线转换工具将其他格式转为 MP3
3. 录制一段简短的语音（大多数操作系统都有录音功能）

### 查看控制台日志

代码已添加详细日志，上传文件时应该能在控制台看到：
- "Initializing WaveSurfer..." - 开始初始化
- "WaveSurfer initialized successfully" - 初始化成功
- "Loading audio file..." - 开始加载文件
- "WaveSurfer ready!" - 文件加载完成

如果看不到这些日志，说明有其他问题。

### 如果还是不行

请告诉我：
1. 浏览器控制台显示的错误信息
2. 你上传的音频文件格式和大小
3. 使用的浏览器和版本
